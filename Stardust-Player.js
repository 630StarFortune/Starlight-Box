(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode('@charset "UTF-8";.IIROSE_MEDIA_CONTAINER{position:fixed;top:0;left:0;width:100%;height:100%;z-index:90000;transition:transform .25s ease-in-out;transform-origin:right;transform:translate(100%)}.IIROSE_MEDIA_CONTAINER *{transition:all .5s ease-in-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA{display:flex;flex-direction:column;width:100%;height:100%}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar{display:flex;min-height:40px;background-color:transparent;justify-content:space-between}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .LeftComponent,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .RightComponent{display:flex}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .LeftComponent .NavBarButtonIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .RightComponent .NavBarButtonIcon{font-size:24px;padding-left:10px;margin-right:20px;cursor:pointer}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .LeftComponent .NavBarButtonIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .RightComponent .NavBarButtonIcon:before{font-family:md}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .LeftComponent #BackIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .RightComponent #BackIcon:before{content:"󰅁"}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .LeftComponent #TitleIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .RightComponent #TitleIcon{margin-right:20px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .LeftComponent #TitleIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .RightComponent #TitleIcon:before{content:"󰀥"}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .LeftComponent #SettingIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .RightComponent #SettingIcon:before{content:"󰒓"}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .LeftComponent #MusicIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .RightComponent #MusicIcon:before{content:"󰝚"}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .NavBarButton,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .NavBarTitle{padding:0 20px;display:flex;align-items:center;cursor:pointer;font-size:24px;background-color:#00000080;color:#fff;transition:opacity .3s ease-in-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .NavBarButton .NavBarButtonText,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .NavBarTitle .NavBarButtonText{font-size:14px;transition:all .5s ease-in-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .NavBarButton{background-color:#fff3;transition:all .5s ease-in-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .NavBarButton:hover{opacity:.7}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar .NavBarButtonActive{background-color:#00000080}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .IIroseMainNavigationBar #NavBarTitle{cursor:auto;background-color:#fff3;font-size:16px;color:#fff}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper{overflow:hidden;height:100%;position:relative;display:flex;justify-content:center;align-items:center}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer{background-color:#e0e0e0cc;height:100%;width:100%;transition:all .25s ease-in-out;display:flex;flex-direction:column;position:absolute}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController{display:flex;flex-direction:column}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaContainerSubNavBar{display:flex;color:#fff;overflow-y:hidden;white-space:nowrap;scroll-behavior:smooth;animation:fadeIn .25s ease-out,expandHeight .25s ease-in-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaContainerSubNavBar .SubNavBarItem{display:flex;align-items:center;height:30px;padding:0 20px;background-color:#0000004d;animation:fadeIn .25s ease-out;cursor:pointer;transition:all .5s ease-in-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaContainerSubNavBar .SubNavBarItem:hover{opacity:.7}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaContainerSubNavBar .subNavBarItemActive{background-color:#000000b3}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar{display:flex;align-items:center;justify-content:flex-end;animation:fadeIn .25s ease-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .inputWrapper,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .paginationWrapper,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper{display:flex;align-items:center;color:#fff;cursor:pointer;height:100%;transition:all .25s ease-in-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .inputWrapper{max-width:460px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .inputWrapper .inputIcon:before{content:"󰍉";font-family:md}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .inputWrapper .inputIcon{font-size:24px;margin-right:22px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .inputWrapper .mediaSearchBarInput{font-weight:700;font-size:14px;overflow:hidden;text-overflow:ellipsis;white-space:pre}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .inputWrapper:hover{opacity:.7}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .mediaSearchBarRightWrapper{display:flex;align-items:center;height:100%}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .mediaSearchBarRightWrapper .paginationWrapper{margin:0 24px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .mediaSearchBarRightWrapper .paginationWrapper .paginationIcon:before{content:"󱓷";font-family:md}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .mediaSearchBarRightWrapper .paginationWrapper .paginationIcon{font-size:24px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .mediaSearchBarRightWrapper .paginationWrapper .pagination{margin-left:22px;font-size:14px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .mediaSearchBarRightWrapper .paginationWrapper:hover{opacity:.7}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .returnButtonWrapper,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .prevButtonWrapper,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .nextButtonWrapper{background-color:#00000080;display:flex;align-items:center}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .returnButtonWrapper .returnIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .returnButtonWrapper .prevIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .returnButtonWrapper .nextIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .prevButtonWrapper .returnIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .prevButtonWrapper .prevIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .prevButtonWrapper .nextIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .nextButtonWrapper .returnIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .nextButtonWrapper .prevIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .nextButtonWrapper .nextIcon{font-family:md;font-size:24px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .returnButtonWrapper .returnIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .prevButtonWrapper .returnIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .nextButtonWrapper .returnIcon:before{content:"󱞧"}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .returnButtonWrapper .prevIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .prevButtonWrapper .prevIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .nextButtonWrapper .prevIcon:before{content:"󰅁"}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .returnButtonWrapper .nextIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .prevButtonWrapper .nextIcon:before,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .nextButtonWrapper .nextIcon:before{content:"󰅂"}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .prevButtonWrapper{background-color:#fff3}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .PaginationControllerButtonWrapper{display:flex;align-items:center;padding:0 20px;transition:all .5s ease-in-out;height:100%}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .PaginationControllerButtonWrapper .PaginationControllerButton{font-weight:700;margin-left:22px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaContainerController .MediaSearchBar .controllerWrapper .PaginationControllerButtonWrapper:hover{opacity:.7}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer{position:relative;display:grid;align-content:flex-start;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));grid-gap:12px;overflow-y:auto;overflow-x:hidden;box-sizing:border-box;padding:12px;transition:all .25s ease-in-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCardMessageWrapper{display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;width:100%;height:100%;transition:all .25s ease-in-out;animation:fadeIn .25s ease-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCardMessageWrapper .containerSpin{display:flex;justify-content:center;align-items:center;position:absolute;width:100%;height:100%;font-size:100px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCardMessageWrapper .containerSpin:before{content:"󰝲";font: 24px/1 md;font-size:inherit;animation:spin 2s linear infinite}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCardMessageWrapper .searchLogo,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCardMessageWrapper .noresultLogo{font-size:200px;display:flex}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCardMessageWrapper .searchLogo:before{content:"󱩾";font-family:md}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCardMessageWrapper .noresultLogo:before{content:"󰐓";font-family:md}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCardMessageWrapper .message{margin-top:24px;line-height:31px;font-size:24px;font-weight:700}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard{display:flex;flex-grow:1;flex-shrink:1;flex-direction:column;background-color:#ffffff80;margin:12px;transition:all .5s ease-in-out;position:relative;animation:fadeIn .25s ease-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardImgCover{display:flex;position:relative;height:100%;width:100%;transition:none;aspect-ratio:1/1}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardImgCover .MediaCardImg{object-fit:contain;object-position:center;width:100%;height:100%;overflow:hidden;aspect-ratio:1/1}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardImgCover .MediaCardDuration{position:absolute;color:#fff;text-shadow:1px 0 #000,-1px 0 #000,0 1px #000,0 -1px #000;bottom:24px;right:24px;left:24px;text-align:right;font-weight:700}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardInfoContainer{padding:24px;color:#000000bf;position:relative}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardInfoContainer .MediaCardInfoTitleWrapper{position:relative;font-weight:700;line-height:25px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardInfoContainer .MediaCardInfoTitleWrapper .MediaCardInfoTitle{overflow:hidden;text-overflow:ellipsis;white-space:pre;font-size:17px;margin-bottom:24px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardInfoContainer .MediaCardInfoTitleWrapper .MediaCardInfoSubTitle{position:absolute;top:100%;left:0;font-size:11px;max-width:80%;overflow:hidden;white-space:pre;text-overflow:ellipsis;color:#00000080}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardInfoContainer .MediaCardInfoAuthor{overflow:hidden;font-weight:700;text-overflow:ellipsis;white-space:pre}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper{display:flex;justify-content:space-between;border-top:1px solid rgba(0,0,0,.1)}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer{width:100%;color:#000;display:flex;justify-content:center;line-height:88px;font-size:20px;cursor:pointer}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer .MediaCardPickButtonIcon{font-weight:700}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer .MediaCardPlayButtonIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer .MediaCardPickButtonIcon{font-size:28px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer .MediaCardPlayButtonText{font-weight:700;margin-left:22px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer .MediaCardPlayButtonText,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer .MediaCardPlayButtonIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer .MediaCardPickButtonIcon{transition:all .5s ease-in-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer .MediaCardPlayButtonIcon:before{content:"󰋋";font-family:md}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer .MediaCardPickButtonIcon:before{content:"󰐒";font-family:md}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer:hover .MediaCardPlayButtonText,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer:hover .MediaCardPlayButtonIcon,.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .MediaCard .MediaCardButtonsWrapper .MediaCardButtonContainer:hover .MediaCardPickButtonIcon{opacity:.7}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .SettingsCard{min-height:200px;margin:12px;display:flex;flex-direction:column;animation:fadeIn .25s ease-out;box-shadow:0 0 1px #0000001f,0 1px 1px #0000003d}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .SettingsCard .titleWrapper{display:flex;justify-content:center;align-items:center;height:50%;padding:0 24px;color:#0006;background-color:#fff3}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .SettingsCard .titleWrapper .titleIcon{font-size:30px;font-family:md}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .SettingsCard .titleWrapper .settingIcon:before{content:"󰒓";font-family:md}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .SettingsCard .titleWrapper .title{font-weight:700;font-size:20px;margin-left:22px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .SettingsCard .actionWrapper{background-color:#ffffff80;height:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .SettingsCard .actionWrapper .action{color:#000000bf;transition:opacity .5s ease-in-out}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .SettingsCard .actionWrapper .textAction{font-weight:700;font-size:16px}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .SettingsCard .actionWrapper .buttonAction:before{font-size:48px;content:"󰅀";font-family:md}.IIROSE_MEDIA_CONTAINER #IIROSE_MEDIA .MediaContainerWrapper .MediaContainer .MediaCardContainer .SettingsCard .actionWrapper:hover .action{opacity:.7}.IIROSE_MEDIA_CONTAINER.ShowIIROSE_MEDIA_CONTAINER{transform:translate(0)}#mainContainer{transition:transform .25s}.fullBoxFixed.hidemainHolder{transform:translate(-100%);transform-origin:left}.IIROSE_MEDIASelectHolder{position:absolute;display:flex;flex-direction:column;align-content:center;justify-content:center;align-items:center;box-sizing:border-box;background-color:#00000080;width:100%;height:100%;z-index:-1;padding:20px;opacity:0;transition:opacity .25s ease-in-out}.IIROSE_MEDIASelectHolder .IIROSE_MEDIASelectHolderWrapper{background-color:#fffc;color:#000000bf;width:100%;max-width:700px}.IIROSE_MEDIASelectHolder .IIROSE_MEDIASelectHolderWrapper .IIROSE_MEDIASelectHolderItemWrapper{display:flex;cursor:pointer;font-size:24px;padding:32px 48px 32px 124px;transition:all .5s ease-in-out;text-align:center;position:relative}.IIROSE_MEDIASelectHolder .IIROSE_MEDIASelectHolderWrapper .IIROSE_MEDIASelectHolderItemWrapper .IIROSE_MEDIASelectHolderItemLogo{font-size:28px;top:0;left:0;width:100px;height:100px;line-height:100px;text-align:center;position:absolute}.IIROSE_MEDIASelectHolder .IIROSE_MEDIASelectHolderWrapper .IIROSE_MEDIASelectHolderItemWrapper #sequence:before{content:"󰒻";font-family:md}.IIROSE_MEDIASelectHolder .IIROSE_MEDIASelectHolderWrapper .IIROSE_MEDIASelectHolderItemWrapper #random:before{content:"󰒺";font-family:md}.IIROSE_MEDIASelectHolder .IIROSE_MEDIASelectHolderWrapper .IIROSE_MEDIASelectHolderItemWrapper:hover{background-color:#0000001a}.IIROSE_MEDIAInput{position:fixed;display:flex;flex-direction:column;align-content:center;justify-content:center;align-items:center;box-sizing:border-box;background-color:#00000080;width:100%;height:100%;z-index:-1;padding:20px;opacity:0;transition:opacity .25s ease-in-out;top:0;left:0;bottom:0}.IIROSE_MEDIAInput .inputBoxWrapper{margin:12px;box-shadow:0 0 1px #0000001f,0 1px 1px #0000003d;max-width:568px;width:100%}.IIROSE_MEDIAInput .inputBoxWrapper .inputBoxTitleWrapper{display:flex;align-items:center;height:40px;background-color:#707abf;padding:0 64px 0 24px;color:#fff;opacity:.7}.IIROSE_MEDIAInput .inputBoxWrapper .inputBoxTitleWrapper .inputBoxTitleLogo{font-size:26px}.IIROSE_MEDIAInput .inputBoxWrapper .inputBoxTitleWrapper .inputBoxTitleLogo:before{content:"󰘎";font-family:md}.IIROSE_MEDIAInput .inputBoxWrapper .inputBoxTitleWrapper .inputBoxTitle{font-size:16px;margin-left:24px}.IIROSE_MEDIAInput .inputBoxWrapper .inputArea .inputPlace{width:100%;height:240px;padding:24px 24px 190px;font-weight:700;font-size:16px;line-height:26px;color:#000000bf;background-color:#f0f0f0cc}.IIROSE_MEDIAInput .inputBoxWrapper .inputArea ::placeholder{color:#00000080}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper{display:flex;align-items:center;height:40px}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper .IIROSE_MEDIA_ButtonItemWrapper{cursor:pointer;display:flex;align-items:center;padding:0 24px;width:100%;height:100%;transition:all .5s ease-in-out;opacity:.8;justify-content:center}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper .IIROSE_MEDIA_ButtonItemWrapper div{transition:all .5s ease-in-out}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper .IIROSE_MEDIA_ButtonItemWrapper .IIROSE_MEDIA_cancelIcon{font-size:24px}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper .IIROSE_MEDIA_ButtonItemWrapper .IIROSE_MEDIA_cancelIcon:before{content:"󰜺";font-family:md}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper .IIROSE_MEDIA_ButtonItemWrapper .IIROSE_MEDIA_confirmIcon{font-size:24px}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper .IIROSE_MEDIA_ButtonItemWrapper .IIROSE_MEDIA_confirmIcon:before{content:"󰄬";font-family:md}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper .IIROSE_MEDIA_ButtonItemWrapper .IIROSE_MEDIA_Button{margin-left:22px}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper .IIROSE_MEDIA_ButtonItemWrapper:hover,.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper .IIROSE_MEDIA_ButtonItemWrapper:hover div{opacity:.7}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper #IIROSE_MEDIA_cancelButtonWrapper{background-color:#fff;color:#707abf}.IIROSE_MEDIAInput .inputBoxWrapper .IIROSE_MEDIA_ButtonWrapper #IIROSE_MEDIA_confirmButtonWrapper{background-color:#707abf;color:#fff}#syncHolder #syncHolderOutside{width:100%;height:100%;z-index:-1;position:absolute}@media (max-width: 780px){.NavBarTitle{display:none!important}.MediaCardContainer{grid-template-columns:repeat(auto-fill,minmax(250px,1fr))!important}.inputWrapper{max-width:200px!important}.mediaSearchBarInput{max-width:50px!important}.PaginationControllerButtonWrapper{padding:10px!important;height:auto!important}.NavBarButton{padding:10px!important}}@media (max-width: 490px){.NavBarButtonText,.PaginationControllerButton{display:none!important}.PaginationControllerButtonWrapper{padding:10px 25px!important}.NavBarButtonIcon{padding:5px 20px!important;margin:0!important;font-size:larger}.MediaCardContainer{grid-template-columns:repeat(auto-fill,minmax(180px,1fr))!important;grid-gap:10px!important}.MediaCard{margin:0!important}.MediaSearchBar{justify-content:space-between!important}.MediaSearchBar .inputIcon{margin-left:20px}.SettingsCard{margin:0!important;min-height:150px!important}.SettingsCard .titleWrapper{padding:0 10px!important}.SubNavBarItem{padding:2px 10px!important}}@media (max-width: 980px){.MediaCard{max-height:100%!important}}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes expandHeight{0%{height:0%}to{height:100%}}')),document.head.appendChild(e)}}catch(a){console.error("vite-plugin-css-injected-by-js",a)}})();
(function(q){typeof define=="function"&&define.amd?define(q):q()})(function(){"use strict";var os=Object.defineProperty;var ls=(q,R,G)=>R in q?os(q,R,{enumerable:!0,configurable:!0,writable:!0,value:G}):q[R]=G;var A=(q,R,G)=>ls(q,typeof R!="symbol"?R+"":R,G);class R{show(e){window._alert&&window._alert(e)}}class G{sync(e,t,i){if(!window.Utils)return;window.Utils.sync(e,t,i);const n=document.getElementById("syncHolder");if(n){let s=document.getElementById("syncHolderOutside");s||(s=document.createElement("div"),s.id="syncHolderOutside",s.onclick=()=>{const o=n.childNodes[0].childNodes[3].childNodes[0];o&&o.click()},n.appendChild(s))}}buildSelect2(e,t,i,n,s,a,r,o,l){window.Utils&&window.Utils.buildSelect2(e,t,i,n,s,a,r,o,l)}getUserCard(e){if(!window.Utils)return;const t=document.createElement("span");t.innerHTML=e,t.className="followName2",window.Utils.service.getUserCard.call(t,e,1)}}class F{constructor(){A(this,"cors","https://cors-anywhere-iirose-uest-web-gjtxhfvear.cn-beijing.fcapp.run/");A(this,"malaysiacors","https://cors-anywhere-cors-dzgtzfcdbk.ap-southeast-3.fcapp.run/");A(this,"beijingcors","https://cors-anywhere-iirose-uest-web-gjtxhfvear.cn-beijing.fcapp.run/");A(this,"devcors","http://localhost:8080/");window.iirosemedia&&window.iirosemedia.cors!==void 0&&(this.cors=window.iirosemedia.cors)}async sendGet(e,t,i,n=!0,s){const a=`${e}?${t.toString()}`;i||(i=new Headers);try{const r=await fetch(a,{method:"GET",headers:{...i,Origin:"https://iirose.com"},signal:s});return!r.ok&&n&&new R().show(`GET请求失败，url: ${a} 状态码：${r.status}, 信息：${r.statusText}, params: ${t.toString()}`),r}catch(r){return n&&(new R().show(`GET请求失败，url: ${a} 信息：${r}`),console.log(`GET请求失败，url: ${a} 信息：${r}`)),null}}async sendPost(e,t,i){try{i||(i=new Headers),window.iirosemedia&&window.iirosemedia.cors!==void 0&&i&&i.get("cookie-trans")&&i.append("cookie",i.get("cookie-trans"));const n=await fetch(e,{method:"POST",headers:{...i,Origin:"https://iirose.com"},body:t});return n.ok||new R().show(`POST请求失败，url: ${e} 状态码：${n.status}, 信息：${n.statusText}, params: ${t.toString()}`),n}catch(n){return new R().show(`POST请求失败，url: ${e} 信息：${n}`),null}}}class yt{constructor(){A(this,"neteaseApi",new O)}async getSongListDetail(e){const t=`${this.neteaseApi.cors}https://music.163.com/api/v3/playlist/detail?id=${e}&n=5000`,i=await this.neteaseApi.sendGet(t,new URLSearchParams);return i&&i.ok?await i.json():null}async getAlbumDetail(e){const t=`${this.neteaseApi.cors}https://music.163.com/weapi/v1/album/${e}`,i=await this.neteaseApi.weapi({csrf_token:""}),n={params:i.encText,encSecKey:i.encSecKey},s=new URLSearchParams(n),a=await this.neteaseApi.sendPost(t,s);return a&&a.ok?await a.json():null}async getSongDetail(e){const t=`${this.neteaseApi.cors}http://music.163.com/api/song/detail`,i=new URLSearchParams({ids:`[${e.join(",")}]`}),n=await this.neteaseApi.sendGet(t,i);return n&&n.ok?await n.json():null}async getLyric(e){const t=`${this.neteaseApi.cors}https://music.163.com/api/song/lyric`,i=new URLSearchParams({id:e.toString(),tv:"-1",lv:"-1",kv:"-1",rv:"-1"}),n=await this.neteaseApi.sendGet(t,i);return n&&n.ok?await n.json():null}async getMediaSource(e,t){try{const i=`https://wyy-api-three.vercel.app/song/url?id=${e.id}&quality=${t}`,n=await this.neteaseApi.sendGet(i,new URLSearchParams);if(n&&n.ok){const s=await n.json();if(s&&s.data&&s.data[0]&&s.data[0].url)return{url:s.data[0].url};console.log("API返回异常数据:",JSON.stringify(s))}return null}catch(i){return console.log("获取音源失败:",i.message),null}}}class O extends F{async search(e,t,i,n){const s=`${this.cors}https://music.163.com/weapi/search/get`,a={s:e,limit:i,type:t,offset:(n-1)*i,csrf_token:""},r=await this.weapi(a),o={params:r.encText,encSecKey:r.encSecKey},l=new URLSearchParams(o),d=await this.sendPost(s,l);return d&&d.ok?await d.json():null}async getTopLists(){const e=`${this.cors}https://music.163.com/discover/toplist`,t=await this.sendGet(e,new URLSearchParams);if(t&&t.ok){const i=await t.text();return i}return null}async weapi(e){const t=JSON.stringify(e),i=this.create_key(16),n=this.aesEncrypt(t,"0CoJUm6Qyw8W8jud","0102030405060708"),s=this.aesEncrypt(n,i,"0102030405060708"),a=this.rsaEncrypt(i,"010001","00e0b509f6259df8642dbc35662901477df22677ec152b5ff68ace615bb7b725152b3ab17a876aea8a5aa76d2e417629ec4ee341f56135fccf695280104e0312ecbda92557c93870114af6c9d05c4f7f0c3685b7a46bee255932575cce10b424d813cfe4875d3e82047b97ddef52741d546b8e289dc6935b3ece0462db0a22b8e7");return{params:s,encSecKey:a}}create_key(e){const t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let i="";for(let n=0;n<e;n++)i+=t.charAt(Math.floor(Math.random()*t.length));return i}aesEncrypt(e,t,i){const n=CryptoJS.enc.Utf8.parse(t),s=CryptoJS.enc.Utf8.parse(i),a=CryptoJS.AES.encrypt(e,n,{iv:s,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7});return a.toString()}rsaEncrypt(e,t,i){const n=e.split("").reverse().join(""),s=this.hexify(n),a=new JSEncrypt;return a.setPublicKey(i),a.encrypt(s)}}class Fi{constructor(){A(this,"iiroseUtils",new G)}setNeteaseMusicQuality(e){const t=(s,a)=>{const r=localStorage.getItem("neteaseSetting");if(r){const o=JSON.parse(r);o.quality=a,localStorage.setItem("neteaseSetting",JSON.stringify(o))}if(e){const o=this.parseNetEaseMusicQuality(a);e(o)}},i=["mdi-music-note","mdi-music-note","mdi-music-note","mdi-music-note-plus","mdi-music-note-plus","mdi-surround-sound-7-1","mdi-surround-sound-7-1","mdi-grain"],n=[["standard","标准音质"],["higher","较高音质"],["exhigh","极高音质"],["lossless","无损音质"],["hires","Hi-Res"],["jyeffect","高清环绕声"],["sky","沉浸环绕声"],["jymaster","超清母带"]];n.forEach((s,a)=>{s.push(`<div class="${i[a]}" style="font-family:md;font-size:28px;text-align:center;line-height:100px;height:100px;width:100px;position:absolute;top:0;opacity:.7;left:0;"></div>`)}),this.iiroseUtils.buildSelect2(null,n,t,!1,!0,null,!1,null,()=>{})}setNeteaseMusicLyric(e){const t=(s,a)=>{const r=localStorage.getItem("neteaseSetting");if(r){const o=JSON.parse(r);o.lyricOption=a,localStorage.setItem("neteaseSetting",JSON.stringify(o))}if(e){const o=this.parseNetEaseMusicLyricOption(a);e(o)}},i=["mdi-close","mdi-book-open-variant","mdi-translate","mdi-book-open-variant"],n=[["off","关闭歌词"],["original","原文歌词"],["translated","翻译歌词"],["both","原文 + 翻译歌词"]];n.forEach((s,a)=>{s.push(`<div class="${i[a]}" style="font-family:md;font-size:28px;text-align:center;line-height:100px;height:100px;width:100px;position:absolute;top:0;opacity:.7;left:0;"></div>`)}),this.iiroseUtils.buildSelect2(null,n,t,!1,!0,null,!1,null,()=>{})}getNeteaseMusicSetting(){const e=localStorage.getItem("neteaseSetting");return e?JSON.parse(e):{quality:"lossless",lyricOption:"both"}}parseNetEaseMusicQuality(e){const i=[["standard","标准音质"],["higher","较高音质"],["exhigh","极高音质"],["lossless","无损音质"],["hires","Hi-Res"],["jyeffect","高清环绕声"],["sky","沉浸环绕声"],["jymaster","超清母带"]].find(n=>n[0]===e);return i?i[1]:"未知"}parseNetEaseMusicLyricOption(e){const i=[["off","关闭歌词"],["original","原文歌词"],["translated","翻译歌词"],["both","原文 + 翻译歌词"]].find(n=>n[0]===e);return i?i[1]:"原文 + 翻译歌词"}}var Pe,st;!function(c){var e,t,i,n,s,a,r,o,l,d,u,g,h,f,m,y,p,w,v,S,E,P,_,I,B,x,M,D,C,N,V,X,Ct,bt,U,ye,xt,Ui,Se,rs,lt,ve,Ae,Hi,W,J,
/* continuing var declaration for crypto state */
Ue,Fe,qe,Ge,je,Ve,$e,Ke,ze,We,Je,Qe,Xe,Ze,ti,ei,ni,si,ai,ri,oi,li,ci,ui,
/* variables for BigInteger operations */
di,fi,mi,pi,gi,hi,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti,bi,vi,yi,ki,wi,xi,Ni,Ei,Ti;function oe(c){var e,t,i=1;return"undefined"!=typeof c.BigInteger&&(e=c.BigInteger,t=c.SecureRandom,i=e.prototype.am),i}function le(c,e,t){null!=e&&("number"==typeof e?this.fromNumber(c,e,t):null==e&&"string"!=typeof c?this.fromString(c,256):this.fromString(c,e))}function de(){return new le(null)}function ue(c,e,t,i,n,s){for(;--s>=0;){var a=e*this[c++]+t[i]+n;n=Math.floor(a/67108864),t[i++]=67108863&a}return n}function ce(c,e,t,i,n,s){for(var a=32767&e,r=e>>15;--s>=0;){var o=32767&this[c],l=this[c++]>>15,d=r*o+l*a;o=a*o+((32767&d)<<15)+t[i]+(1073741823&n),n=(o>>>30)+(d>>>15)+r*l+(n>>>30),t[i++]=1073741823&o}return n}function fe(c,e,t,i,n,s){for(var a=16383&e,r=e>>14;--s>=0;){var o=16383&this[c],l=this[c++]>>14,d=r*o+l*a;o=a*o+((16383&d)<<14)+t[i]+n,n=(o>>28)+(d>>14)+r*l,t[i++]=268435455&o}return n}function me(c,e){var t=de();return c.abs().dlShiftTo(e,t),c.s<0&&t.compareTo(pe)==0?pe:t}function he(c,e){var t=c.s<0?e.negate():e;return c.subtract(t)}function pe(){}function ge(c){return c}function ye(c,e,t){c.multiplyTo(e,t),this.reduce(t)}function Se(c,e){c.squareTo(e),this.reduce(e)}function we(c){return c.s<0||c.compareTo(this.m)>=0?c.mod(this.m):c}function ve(c){this.m=c}function Ee(c){this.m=c,this.mp=c.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<c.DB-15)-1,this.mt2=2*c.t}function Ae(c){var e=de();return c.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),c.s<0&&e.compareTo(pe)>0&&this.m.subTo(e,e),e}function xe(c){var e=de();return c.copyTo(e),this.reduce(e),e}function De(c){for(;c.t<=this.mt2;)c[c.t++]=0;for(var e=0;e<this.m.t;++e){var t=32767&c[e],i=t*this.mpl+((t*this.mph+(32767&c[e]>>15)*this.mpl&this.um)<<15)&4294967295;t=e+this.m.t,c[t]+=this.m.am(0,i,c,e,0,this.m.t);for(;c[t]>=c.DV;)c[t]-=c.DV,c[++t]++}c.clamp(),c.drShiftTo(this.m.t,c),c.compareTo(this.m)>=0&&c.subTo(this.m,c)}function Te(c,e){c.squareTo(e),this.reduce(e)}function Ce(c,e,t){c.multiplyTo(e,t),this.reduce(t)}function Re(){return 0==this.t||0==this.s}function Ie(c){return this.compareTo(c)==0}function be(c){return this.s<0?-1:c.t<=0||c.s<0?0:1}function Ne(c){var e,t=0;for(;(e=c.charCodeAt(t++))>=0;)if(e<128)this[this.t++]=e;else if(e>127&&e<2048)this[this.t++]=e>>6|192,this[this.t++]=63&e|128;else if(this[this.t++]=e>>12|224,this[this.t++]=e>>6&63|128,this[this.t++]=63&e|128,t>=s)break}function Pe(){return this.t>0?this[0]&255:this.s}function Me(c,e){var t;for(t=this.t-1;t>=0;--t)e[t]=c(this[t])}function je(c,e){var t=de();return this.abs().divRemTo(c,t,e),this.s<0&&e.compareTo(pe)>0&&c.subTo(e,e),e}function He(c){var e=this.s<0?this.negate():this;c=c.s<0?c.negate():c;for(var t,i,n=0;e.compareTo(c)>=0;)t=e.subtract(c),i=t.subtract(c),e=i.subtract(c),n+=3,e.compareTo(t)==0&&(e=t,n-=2),e.compareTo(i)==0&&(e=i,n--);for(;e.compareTo(c)<0;)e=e.add(c),n--;return e.s<0&&(e=e.add(c),n--),n}function $e(c){for(var e=1;c.t>0&&0==--c.t;);return e}function Be(c,e){var t=new le;return t.fromInt(c),t.pow(e)}function ze(){this.i=0,this.j=0,this.S=new Array}function We(c){var e,t,i;for(e=0;e<256;++e)this.S[e]=e;for(t=0,e=0;e<256;++e)t=t+this.S[e]+c[e%c.length]&255,i=this.S[e],this.S[e]=this.S[t],this.S[t]=i;this.i=0,this.j=0}function Ve(){var c;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,c=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=c,this.S[c+this.S[this.i]&255]}function Xe(){}function Ye(c){t=c}function et(){if(null==e){e=new ze;for(;u<a;)g=Math.floor(65536*Math.random()),l[u++]=255&g;for(e.init(l),u=0;u<l.length;++u)l[u]=0;u=0}return e.next()}function tt(){}function it(c,e){return new le(c,e)}function nt(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function st(c){var e,t,i="",n=c.length;if(2==n)return e=c.charCodeAt(0),t=c.charCodeAt(1),i=y[e>>2],i+=y[(3&e)<<4|t>>4],i+=y[(15&t)<<2],i+="=",i;if(1==n)return e=c.charCodeAt(0),i=y[e>>2],i+=y[(3&e)<<4],i+="==",i;var s,a,r=0;for(s=n-n%3;r<s;)e=c.charCodeAt(r++),t=c.charCodeAt(r++),a=c.charCodeAt(r++),i+=y[e>>2],i+=y[(3&e)<<4|t>>4],i+=y[(15&t)<<2|a>>6],i+=y[63&a];switch(n%3){case 1:e=c.charCodeAt(r++),i+=y[e>>2],i+=y[(3&e)<<4],i+="==";break;case 2:e=c.charCodeAt(r++),t=c.charCodeAt(r++),i+=y[e>>2],i+=y[(3&e)<<4|t>>4],i+=y[(15&t)<<2],i+="="}return i}function at(c){var e,t,i,n,s,a="",r=c.length;for(e=0;e<r;)switch(t=p[c.charAt(e++)],e==r&&(a+="=",a+="="),t){case-1:break;case-2:break;case 62:case 63:break;default:i=p[c.charAt(e++)],e==r&&(a+="="),i!=-1&&(n=p[c.charAt(e++)],s=(3&t)<<6|i>>2,a+=String.fromCharCode(t>>2,s),e!=r&&n!=-1?(s=(15&i)<<4|n>>4,a+=String.fromCharCode(s),e!=r&&(s=p[c.charAt(e++)],s!=-1&&(s=(63&n)<<2|s,a+=String.fromCharCode(s)))):a+="")}return a}function rt(c){var e,t,i,n,s,a,r,o,l,d,u,g,h,f,m,y,p,v,S,E,P,_,I,B,x,M,D,C,N,V,X,bt,U,ye,xt,Ui,Se,rs,lt,ve,Ae,Hi,W,J,Ue,Fe,qe,Ge,je,Ve,Xe,Ye,et,tt,it,nt,st,at,rt,ot,ct,pt,gt,yt,St,wt,Et,At,xt,Ui,Se,rs,lt,ve,Ae,Hi,W,J,Ue,Fe,qe,Ge,je,Ve,Xe,Ye,et,tt,it,nt,st,at,rt,ot,ct,pt,gt,yt,St,wt,Et,At,xt,Ui,Se,rs,lt,ve,Ae,Hi,W,J,Ue,Fe,qe,Ge,je,Ve,Xe,Ye,et,tt,it,nt,st,at,rt,ot,ct,pt,gt,yt,St,wt,Et,At,xt,Ui,Se,rs,lt,ve,Ae,Hi,W,J,Ue,Fe,qe,Ge,je,Ve,Xe,Ye,et,tt,it,nt,st,at,rt,ot,ct,pt,gt,yt,St,wt,Et,At,xt,Ui,Se,rs,lt,ve,Ae,Hi,W,J,Ue,Fe,qe,Ge,je,Ve,Xe,Ye,et,tt,it,nt,st,at,rt,ot,ct,pt,gt,yt,St,wt,Et,At;if("undefined"!=typeof le){var Dt=le,Ct=Dt.prototype,bt=256,U=Ct.DB=28,ye=Ct.DM=(1<<U)-1,xt=Ct.DV=1<<U,Ui=Ct.FV=Math.pow(2,Ct.FP=52),Se=Ct.F1=U-Ct.FP,rs=Ct.F2=2*Ct.FP-U;Ct.am=fe,e=new Dt,t=oe(e),i=t?new Dt(null):void 0,n=t?new Dt(null):void 0,Ct.bnpFromString=function(c,e){var i,n,s,a=1,r=c.length,o=-1,l=[];for(i=0;i<r;++i)n=c.charCodeAt(i),s=null,n>=48&&n<=57?s=n-48:n>=97&&n<=122?s=10+n-97:n>=65&&n<=90&&(s=10+n-65),null!=s?a=t?this.am(i,s,l,o,a,e):s>=e?null:this.ts(this.DB,l,o,a,s,e):o=-1;this.t=o+1,this.s=this.t<0?0:this.s,this.s<0&&(this.s=-1),t&&e.am(r-1,a,l,o,0,this.t),this.s<0&&this.subTo(pe,this)},Ct.bnpClamp=function(){for(var c=this.s&this.DM;this.t>0&&this[this.t-1]==c;)--this.t},Ct.bnpToString=function(c){var e;if(this.s<0)return"-"+this.negate().toString(c);if(c=c||10,10!=c)e=this.am(c);else{for(var t,i="",n=this.t,s=9;--n>=0;){if(n==this.t-1)t=this[n],i=String(t%s);else{for(var a=s-String(this[n]).length;a>0;a--)i+="0";i+=String(this[n])}for(;i.length<9;)i="0"+i;s=1e9}i=i.replace(/^0+/,"")}return i},Ct.bnpNegate=function(){var c=de();return le.ZERO.subTo(this,c),c},Ct.bnpAbs=function(){return this.s<0?this.negate():this},Ct.bnpCompareTo=function(c){var e=this.s-c.s;if(0!=e)return e;var t=this.t;if(e=t-c.t,0!=e)return this.s*e;for(;--t>=0;)if(0!=(e=this[t]-c[t]))return e;return 0},Ct.bnpBitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+wt(this[this.t-1])},Ct.bnpDlShiftTo=function(c,e){var t;for(t=this.t-1;t>=0;--t)e[t+c]=this[t];for(t=c-1;t>=0;--t)e[t]=0;e.t=this.t+c,e.s=this.s},Ct.bnpDrShiftTo=function(c,e){for(var t=c;t<this.t;++t)e[t-c]=this[t];e.t=Math.max(this.t-c,0),e.s=this.s},Ct.bnpLShiftTo=function(c,e){var t,i=c%this.DB,n=this.DB-i,s=(1<<n)-1,a=Math.floor(c/this.DB),r=this.s<<i&this.DM;for(t=this.t-1;t>=0;--t)e[t+a+1]=this[t]>>n|r,r=(this[t]&s)<<i;for(t=a-1;t>=0;--t)e[t]=0;e[a]=r,e.t=this.t+a+1,e.s=this.s,e.clamp()},Ct.bnpRShiftTo=function(c,e){e.s=this.s;var t=Math.floor(c/this.DB);if(t>=this.t)return void(e.t=0);var i=c%this.DB,n=this.DB-i,s=(1<<i)-1;e[0]=this[t]>>i;for(var a=t+1;a<this.t;++a)e[a-t-1]|=(this[a]&s)<<n,e[a-t]=this[a]>>i;i>0&&(e[this.t-t-1]|=(this.s&s)<<n),e.t=this.t-t,e.clamp()},Ct.bnpSubTo=function(c,e){for(var t=0,i=0,n=Math.min(c.t,this.t);t<n;)i+=this[t]-c[t],e[t++]=i&this.DM,i>>=this.DB;if(c.t<this.t){for(i-=c.s;t<this.t;)i+=this[t],e[t++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;t<c.t;)i-=c[t],e[t++]=i&this.DM,i>>=this.DB;i-=c.s}e.s=i<0?-1:0,i<-1?e[t++]=this.DV+i:i>0&&(e[t++]=i),e.t=t,e.clamp()},Ct.bnpMultiplyTo=function(c,e){var t=this.abs(),i=c.abs(),n=t.t;for(e.t=n+i.t;--n>=0;)e[n]=0;for(n=0;n<i.t;++n)e[n+t.t]=t.am(0,i[n],e,n,0,t.t);e.s=0,e.clamp(),this.s!=i.s&&le.ZERO.subTo(e,e)},Ct.bnpSquareTo=function(c){for(var e=this.abs(),t=c.t=2*e.t;--t>=0;)c[t]=0;for(t=0;t<e.t-1;++t){var i=e.am(t,e[t],c,2*t,0,1);(c[t+e.t]+=e.am(t+1,2*e[t],c,2*t+1,i,e.t-t-1))>=e.DV&&(c[t+e.t]-=e.DV,c[t+e.t+1]=1)}c.t>0&&(c[c.t-1]+=e.am(t,e[t],c,2*t,0,1)),c.s=0,c.clamp()},Ct.bnpDivRemTo=function(c,e,t){var i=c.abs();if(!(i.t<=0)){var n=this.abs();if(n.t<i.t)return null!=e&&e.fromInt(0),void(null!=t&&this.copyTo(t));null==t&&(t=de());var s=de(),a=this.s,r=c.s,o=this.DB-wt(i[i.t-1]);o>0?(i.lShiftTo(o,s),n.lShiftTo(o,t)):(i.copyTo(s),n.copyTo(t));var l=s.t,d=s[l-1];if(0!=d){var u=d*(1<<this.F1)+(l>1?s[l-2]>>this.F2:0),g=this.FV/u,h=(1<<this.F1)/u,f=1<<this.F2,m=t.t,y=m-l,p=null==e?de():e;for(s.dlShiftTo(y,p),t.compareTo(p)>=0&&(t[t.t++]=1,t.subTo(p,t)),le.ONE.dlShiftTo(l,p),p.subTo(s,s);s.t<l;)s[s.t++]=0;for(;--y>=0;){var w=t[--m] ==d?this.DM:Math.floor(t[m]*g+(t[m-1]+f)*h);if((t[m]+=s.am(0,w,t,y,0,l))<w)for(s.dlShiftTo(y,p),t.subTo(p,t);t[m]<--w;)t.subTo(p,t)}null!=e&&(t.drShiftTo(l,e),a!=r&&le.ZERO.subTo(e,e)),t.t=l,t.clamp(),o>0&&t.rShiftTo(o,t),a<0&&le.ZERO.subTo(t,t)}},Ct.bnpInvDigit=function(){if(this.t<1)return 0;var c=this[0];if(0==(1&c))return 0;var e=3&c;return e=e*(2-c*e)&15,e=e*(2-(15&c)*e)&255,e=e*(2-((65535&c)*e&65535)*e)&65535,e=e*(2-c*e%this.DV)%this.DV,e>0?this.DV-e:-e},Ct.bnpGcd=function(c){var e=this.s<0?this.negate():this,t=c.s<0?c.negate():c;if(e.compareTo(t)<0){var i=e;e=t,t=i}var n=e.getLowestSetBit(),s=t.getLowestSetBit();if(s<0)return e;for(n<s&&(s=n),s>0&&(e.rShiftTo(s,e),t.rShiftTo(s,t));e.compareTo(pe)>0;)(n=e.getLowestSetBit())>0&&e.rShiftTo(n,e),(n=t.getLowestSetBit())>0&&t.rShiftTo(n,t),e.compareTo(t)>=0?(e.subTo(t,e),e.rShiftTo(1,e)):(t.subTo(e,t),t.rShiftTo(1,t));return s>0&&t.lShiftTo(s,t),t},Ct.bnpModPowInt=function(c,e){var t;return t=c<256||e.isEven()?new ve(e):new Ee(e),this.exp(c,t)},s=256,o=new Array,l=[],u=0;for(;"undefined"==typeof r&&(r=new tt);)e=r.get(s),l[u++]=255&e;for(o.pptr=0;o.pptr<o.length;++o.pptr);var v=function(c){this.buffer=null,this.bufferLength=0,this.byteLength=0,this.print=c||!1};v.prototype.get=function(){if(this.bufferLength-this.byteLength>0){var c=this.buffer[this.byteLength];return this.byteLength+=1,256==this.byteLength&&(this.buffer=null,this.bufferLength=0,this.byteLength=0),c}},v.prototype.put=function(c){null==this.buffer&&(this.buffer=new Array,this.bufferLength=0,this.byteLength=0),this.buffer[this.bufferLength]=c,this.bufferLength+=1,this.print&&console.log(c)},f=function(c){if("undefined"!=typeof atob){var e=atob(c);this.hex=st(e)}else this.hex=c;this.parse=function(){for(var c=new v,e=0;e<this.hex.length;){var t=this.hex.charCodeAt(e);t>=48&&t<=57?c.put(t-48):t>=97&&t<=122?c.put(t-97+10):t>=65&&t<=90?c.put(t-65+10):c.put(0),e+=1}return c}},m=function(){function c(c){return c=c<0?c=c%S+S:c,E[c]}function e(c){var e=c,t=e.toString(16);return t.length%2==1&&(t="0"+t),t}function t(c){var e,t=n(c);for(e=0;e<t.length&&0==t[e];)++e;return t.slice(e)}function i(c,e){var i=t(c),n=t(e);if(i.length>n.length){var s=i;i=n,n=s}var a=n.length,r=i.length,o=0,l=new Array(a);for(o=0;o<a;o++){var d=o<r?i[o]:0,u=n[o]+d;u>=S&&(u-=S),l[o]=u}return l}function n(c){for(var e=new Array(c.length),t=0;t<c.length;t++)e[t]=c.charCodeAt(t);return e}function s(c){var e=c,t=new Array;if(null==e)return t;var i=e.length;if(0==i)return t;for(;i>0;){var n=e.substring(0,S);e=e.substring(S,e.length),t.push(n)}return t}function a(c){var e,t,i=new Array;for(e=0;e<c.length;e++)for(t=0;t<c[e].length;t++)i.push(c[e][t]);return i}function r(c){for(var e="",t=0;t<c.length;t++)e+=String.fromCharCode(c[t]);return e}function o(c){var e=s(c),t=new Array;for(i=0;i<e.length;i++)t.push(n(e[i]));return t}function l(c,e){var t=new Array(c.length);for(i=0;i<c.length;i++)t[i]=c[i]^e;return t}function d(c,e){var n=o(c),s=new Array,d=n.length;s[0]=l(n[0],e);for(var u=1;u<d;u++)s[u]=l(n[u],s[u-1]);return a(s)}function u(c,e){var n=o(c),s=new Array,d=n.length;s[0]=l(n[0],e);for(var u=1;u<d;u++)s[u]=l(n[u],s[u-1]);return r(a(s))}function g(c,e){var n=o(c),s=new Array,d=n.length,u=l(n[0],e);s.push(u);for(var g=1;g<d;g++){var h=i(n[g],s[g-1]);s.push(h)}return r(a(s))}function h(c,e){var n=o(c),s=new Array,d=n.length,u=l(n[0],e);s.push(u);for(var g=1;g<d;g++){var h=i(n[g],s[g-1]);s.push(h)}return a(s)}var f=2,m=16,S=256,E="0123456789abcdefghijklmnopqrstuvwxyz",P="1.0.2",_="36",I=new Array;I.push(new Array(160,4,1,3,5,2,15,13,6,7,9,10,0,8,11,14)),I.push(new Array(15,12,2,7,9,0,5,10,1,11,13,6,3,14,4,8)),I.push(new Array(8,6,7,9,3,12,10,15,13,1,14,4,0,5,2,11)),I.push(new Array(4,10,14,5,15,8,6,0,13,3,2,11,9,7,1,12)),I.push(new Array(7,13,12,10,0,8,4,15,14,1,2,5,11,9,3,6)),I.push(new Array(11,14,13,1,7,0,15,5,3,8,9,12,6,10,2,4)),I.push(new Array(13,7,1,14,11,9,5,0,8,6,2,10,4,12,15,3)),I.push(new Array(2,0,4,13,8,5,14,11,15,10,12,3,7,1,9,6));var B=new Array(new Array(128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127));return{getSBox:c,stringToBytes:n,bytesToString:r,stringToHex:e,encrypt:u,decrypt:g}},h=function(){var c=m(),e="12345678",t=function(t){var i=c.stringToBytes(e);return c.encrypt(t,i)};return{encrypt:t}},p=function(){var c=m(),e="12345678",t=function(t){var i=c.stringToBytes(e);return c.decrypt(t,i)};return{decrypt:t}},y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p={};for(v=0;v<y.length;v++)p[y.charAt(v)]=v;return function(c){return new f(c)}}(Pe||{}),"undefined"==typeof st&&(st={}),st.lang="zh-CN",st.fn=function(){},st.langPack={};var wt=function(c){return wt.data[c]};wt.data={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,10:10,11:11,12:12,13:13,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:21,22:22,23:23,24:24,25:25,26:26,27:27,28:28,29:29,30:30,31:31,32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:92,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:126,127:127,128:128,129:129,130:130,131:131,132:132,133:133,134:134,135:135,136:136,137:137,138:138,139:139,140:140,141:141,142:142,143:143,144:144,145:145,146:146,147:147,148:148,149:149,150:150,151:151,152:152,153:153,154:154,155:155,156:156,157:157,158:158,159:159,160:160,161:161,162:162,163:163,164:164,165:165,166:166,167:167,168:168,169:169,170:170,171:171,172:172,173:173,174:174,175:175,176:176,177:177,178:178,179:179,180:180,181:181,182:182,183:183,184:184,185:185,186:186,187:187,188:188,189:189,190:190,191:191,192:192,193:193,194:194,195:195,196:196,197:197,198:198,199:199,200:200,201:201,202:202,203:203,204:204,205:205,206:206,207:207,208:208,209:209,210:210,211:211,212:212,213:213,214:214,215:215,216:216,217:217,218:218,219:219,220:220,221:221,222:222,223:223,224:224,225:225,226:226,227:227,228:228,229:229,230:230,231:231,232:232,233:233,234:234,235:235,236:236,237:237,238:238,239:239,240:240,241:241,242:242,243:243,244:244,245:245,246:246,247:247,248:248,249:249,250:250,251:251,252:252,253:253,254:254,255:255},Et=function(c,e){var t=function(){var t=st.lang;return"undefined"==typeof st.langPack[t]&&(t=st.lang="zh-CN"),st.langPack[t]};return t()};var At={};At.url="http://s.IIROSE.com/",At.cdn="http://static.IIROSE.com/",At.version="1.0.0",At.name="IIROSE",At.get=function(c){var e;return e=c.split("."),e[e.length-1]},At.is IIROSEURL=function(c){var e,t,i;return e=c.match(/(\w+):\/\/([^/:]+)(:\d*)?([^# ]*)/),e?t=e[2]:(e=c.match(/(\w+):\/\/([^/:]+)(:\d*)?([^# ]*)/),t=e[2]),i=t.split("."),i.length<2?!1:i[i.length-2]+"."+i[i.length-1]==At.name.toLowerCase()},At.isSameDomain=function(c){var e,t;return e=c.match(/(\w+):\/\/([^/:]+)(:\d*)?([^# ]*)/),e?(t=e[2],t==location.host):!1},At.getDomain=function(c){var e,t;return e=c.match(/(\w+):\/\/([^/:]+)(:\d*)?([^# ]*)/),e&&(t=e[2]),t},At.getFullDomain=function(c){var e,t;return e=c.match(/(\w+):\/\/([^/:]+)(:\d*)?([^# ]*)/),e&&(t=e[1]+"://"+e[2]),t};var Dt=function(){function c(c){this.str=c,this.arr=this.str.split("&"),this.map=this.getMap()}return c.prototype.getMap=function(){for(var c={},e=0;e<this.arr.length;e++){var t=this.arr[e].split("=");c[t[0]]=t[1]}return c},c.prototype.get=function(c){return this.map[c]},c}(),Ct=function(){var c=function(){};return c.get=function(c,e,t){var i=new XMLHttpRequest;i.open("get",c),i.onreadystatechange=function(){4==i.readyState&&200==i.status&&e(i.responseText,t)},i.send()},c.post=function(c,e,t,i){var n=new XMLHttpRequest;n.open("post",c),n.onreadystatechange=function(){4==n.readyState&&200==n.status&&t(n.responseText,i)},n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(e)},c}(),bt=function(){var c=function(){};return c.get=function(c){for(var e=document.cookie.split("; "),t=0;t<e.length;t++){var i=e[t].split("=");if(i[0]==c)return unescape(i[1])}return""},c.set=function(c,e,t){var i=new Date;i.setTime(i.getTime()+t),document.cookie=c+"="+escape(e)+";expires="+i.toGMTString()},c}(),U=function(){function c(){}return c.prototype.get=function(c){var e=localStorage.getItem(c);return e},c.prototype.set=function(c,e){localStorage.setItem(c,e)},c.prototype.del=function(c){localStorage.removeItem(c)},c}(),ye=function(){function c(){}return c.prototype.get=function(c){var e=sessionStorage.getItem(c);return e},c.prototype.set=function(c,e){sessionStorage.setItem(c,e)},c.prototype.del=function(c){sessionStorage.removeItem(c)},c}(),xt=function(){var c=function(){};return c.get=function(c){var e=c.toString(),t=e.length,i=e.lastIndexOf(".");return e.substring(i+1,t)},c}(),Ui=function(){function c(){}return c.prototype.get=function(c){var e=new Date(1000*parseInt(c)),t=e.getFullYear(),i=e.getMonth()+1,n=e.getDate(),s=e.getHours(),a=e.getMinutes(),r=e.getSeconds();return t+"-"+this.mend(i)+"-"+this.mend(n)+" "+this.mend(s)+":"+this.mend(a)+":"+this.mend(r)},c.prototype.mend=function(c){return c=c<10?"0"+c:c},c}(),Se=function(){var c=function(){};return c.str2Int=function(c){for(var e="",t=0;t<c.length;t++)e+=c.charCodeAt(t).toString(16);return e},c}(),rs=function(){var c=function(){};return c.encode=function(c){var e,t,i,n,s,a,r,o="",l=0;for(c=this.utf8_encode(c);l<c.length;)e=c.charCodeAt(l++),t=c.charCodeAt(l++),i=c.charCodeAt(l++),n=e>>2,s=(3&e)<<4|t>>4,a=(15&t)<<2|i>>6,r=63&i,isNaN(t)?a=r=64:isNaN(i)&&(r=64),o=o+this._keyStr.charAt(n)+this._keyStr.charAt(s)+this._keyStr.charAt(a)+this._keyStr.charAt(r);return o},c.decode=function(c){var e,t,i,n,s,a,r,o="",l=0;for(c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<c.length;)n=this._keyStr.indexOf(c.charAt(l++)),s=this._keyStr.indexOf(c.charAt(l++)),a=this._keyStr.indexOf(c.charAt(l++)),r=this._keyStr.indexOf(c.charAt(l++)),e=n<<2|s>>4,t=(15&s)<<4|a>>2,i=(3&a)<<6|r,o+=String.fromCharCode(e),64!=a&&(o+=String.fromCharCode(t)),64!=r&&(o+=String.fromCharCode(i));return o=this.utf8_decode(o)},c.utf8_encode=function(c){c=c.replace(/\r\n/g,"\n");for(var e="",t=0;t<c.length;t++){var i=c.charCodeAt(t);i<128?e+=String.fromCharCode(i):i>127&&i<2048?(e+=String.fromCharCode(i>>6|192),e+=String.fromCharCode(63&i|128)):(e+=String.fromCharCode(i>>12|224),e+=String.fromCharCode(i>>6&63|128),e+=String.fromCharCode(63&i|128))}return e},c.utf8_decode=function(c){for(var e="",t=0,i=0,n=0,s=0;t<c.length;)i=c.charCodeAt(t),i<128?(e+=String.fromCharCode(i),t++):i>191&&i<224?(n=c.charCodeAt(t+1),e+=String.fromCharCode((31&i)<<6|63&n),t+=2):(n=c.charCodeAt(t+1),s=c.charCodeAt(t+2),e+=String.fromCharCode((15&i)<<12|(63&n)<<6|63&s),t+=3);return e},c}(),lt=function(c){function e(c,e,i){var n=this;n.jsel=c,n.config=i||{},n.config.title=n.config.title||st.fn("jsmodern.select.title"),n.config.width=n.config.width||n.jsel.offsetWidth,n.config.height=n.config.height||"auto",n.config.style=n.config.style||"default",n.config.change=n.config.change||null,n.config.type=n.config.type||1,n.config.showNum=n.config.showNum||5,n.config.isSearch=n.config.isSearch||!1,n.config.titlecenter=n.config.titlecenter||!1,n.config.boxborder=n.config.boxborder||!1,n.config.icon=n.config.icon||!1,n.config.iconcenter=n.config.iconcenter||!1,n.config.defaultValue=n.config.defaultValue||null,n.config.height=isNaN(n.config.height)?n.config.height:n.config.height+"px",n.config.width=isNaN(n.config.width)?n.config.width:n.config.width+"px",n.render(),n.init(),n.event()}var t;return e.prototype.render=function(){var c=this;c.jsel.style.display="none",c.jselmodern=document.createElement("div"),c.jsel.parentNode.insertBefore(c.jselmodern,c.jsel),c.jselmodern.className="jsmodern-select jsmodern-select-"+c.config.style,c.jselmodern.style.width=c.config.width,c.jsel.options.length>0&&(c.config.defaultValue=null==c.config.defaultValue?c.jsel.options[0].value:c.config.defaultValue,t=c.config.defaultValue);var e='<div class="jsmodern-select-box-wrap"><div class="jsmodern-select-box" style="height:'+c.config.height+';"><div class="jsmodern-select-title-wrap"><span class="jsmodern-select-title"></span><i class="jsmodern-select-arrow"></i></div><div class="jsmodern-select-option-wrap"><div class="jsmodern-select-option-search-wrap" style="display:none"><input type="text" class="jsmodern-select-search-input" placeholder="'+st.fn("jsmodern.select.search.placeholder")+'"/><i class="jsmodern-select-search-clear"></i></div><ul class="jsmodern-select-option"></ul></div></div></div>';c.jselmodern.innerHTML=e,c.optionEvent()},e.prototype.optionEvent=function(){for(var c=this,e=0;e<c.jsel.options.length;e++){var t=document.createElement("li");c.jselmodern.querySelector(".jsmodern-select-option").appendChild(t),t.innerText=c.jsel.options[e].text,t.setAttribute("data-value",c.jsel.options[e].value),c.config.icon&&(t.className="jsmodern-select-option-icon",t.style.backgroundImage="url("+c.jsel.options[e].getAttribute("data-icon")+")",c.config.iconcenter&&(t.style.backgroundPosition="center center"))}},e.prototype.init=function(){var c=this;c.config.titlecenter&&(c.jselmodern.querySelector(".jsmodern-select-title").style.textAlign="center"),c.config.boxborder&&(c.jselmodern.querySelector(".jsmodern-select-box").style.border="1px solid #ccc"),c.config.isSearch&&(c.jselmodern.querySelector(".jsmodern-select-option-search-wrap").style.display="block");for(var e=0;e<c.jsel.options.length;e++)if(c.jsel.options[e].value==t){c.jsel.options[e].selected=!0,c.jselmodern.querySelector(".jsmodern-select-title").innerText=c.jsel.options[e].text,c.config.icon&&(c.jselmodern.querySelector(".jsmodern-select-title").className="jsmodern-select-title jsmodern-select-option-icon",c.jselmodern.querySelector(".jsmodern-select-title").style.backgroundImage="url("+c.jsel.options[e].getAttribute("data-icon")+")",c.config.iconcenter&&(c.jselmodern.querySelector(".jsmodern-select-title").style.backgroundPosition="center center"));break}var i=c.jselmodern.querySelectorAll(".jsmodern-select-option li");for(e=0;e<i.length;e++)i[e].getAttribute("data-value")==t&&(i[e].className+=" active");if(c.config.height>0&&1==c.config.type){var n=c.jselmodern.querySelector(".jsmodern-select-option-wrap"),s=c.jselmodern.querySelector(".jsmodern-select-option"),a=c.jselmodern.querySelector(".jsmodern-select-option-search-wrap"),r=c.config.isSearch?a.offsetHeight:0;s.style.maxHeight=c.config.showNum*i[0].offsetHeight+"px",n.style.height=s.offsetHeight+r+"px",n.style.overflow="hidden",setTimeout(function(){new IScroll(n,{mouseWheel:!0})},200)}},e.prototype.event=function(){var c=this;c.jselmodern.querySelector(".jsmodern-select-box").addEventListener("click",function(e){e.stopPropagation();var t=c.jselmodern.querySelector(".jsmodern-select-option-wrap");"block"==t.style.display?(t.style.display="none",c.jselmodern.querySelector(".jsmodern-select-arrow").className="jsmodern-select-arrow"):(t.style.display="block",c.jselmodern.querySelector(".jsmodern-select-arrow").className+=" arrow-rotate",c.jselmodern.querySelector(".jsmodern-select-search-input").focus())});for(var e=c.jselmodern.querySelectorAll(".jsmodern-select-option li"),i=0;i<e.length;i++)e[i].addEventListener("click",function(){var e=this;t=e.getAttribute("data-value");for(var i=0;i<c.jsel.options.length;i++)c.jsel.options[i].value==t?(c.jsel.options[i].selected=!0,c.jselmodern.querySelector(".jsmodern-select-title").innerText=c.jsel.options[i].text,c.config.icon&&(c.jselmodern.querySelector(".jsmodern-select-title").style.backgroundImage="url("+c.jsel.options[i].getAttribute("data-icon")+")")):"";var n=c.jselmodern.querySelectorAll(".jsmodern-select-option li");for(i=0;i<n.length;i++)n[i].className=c.config.icon?"jsmodern-select-option-icon":"";e.className+=c.config.icon?" active":"active",null!=c.config.change&&c.config.change(t)})},e}(Pe);c.JSEncrypt=f}(this);var At,T,ni,et,si,ai,ri,oi,ee,ie,ne,li,ut={},ci=[],hn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,vt=Array.isArray;function z(c,e){for(var t in e)c[t]=e[t];return c}function se(c){c&&c.parentNode&&c.parentNode.removeChild(c)}function gn(c,e,t){var i,n,s,a={};for(s in e)s=="key"?i=e[s]:s=="ref"?n=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?At.call(arguments,2):t),typeof c=="function"&&c.defaultProps!=null)for(s in c.defaultProps)a[s]==null&&(a[s]=c.defaultProps[s]);return Pt(c,a,i,n,null)}function Pt(c,e,t,i,n){var s={type:c,props:e,key:t,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:n??++ni,__i:-1,__u:0};return n==null&&T.vnode!=null&&T.vnode(s),s}function at(c){return c.children}function L(c,e){this.props=c,this.context=e}function rt(c,e){if(e==null)return c.__?rt(c.__,c.__i+1):null;for(var t;e<c.__k.length;e++)if((t=c.__k[e])!=null&&t.__e!=null)return t.__e;return typeof c.type=="function"?rt(c):null}function ui(c){var e,t;if((c=c.__)!=null&&c.__c!=null){for(c.__e=c.__c.base=null,e=0;e<c.__k.length;e++)if((t=c.__k[e])!=null&&t.__e!=null){c.__e=c.__c.base=t.__e;break}return ui(c)}}function ae(c){(!c.__d&&(c.__d=!0)&&et.push(c)&&!_t.__r++||si!=T.debounceRendering)&&((si=T.debounceRendering)||ai)(_t)}function _t(){for(var c,e,t,i,n,s,a,r=1;et.length;)et.length>r&&et.sort(ri),c=et.shift(),r=et.length,c.__d&&(t=void 0,n=(i=(e=c).__v).__e,s=[],a=[],e.__P&&((t=z({},i)).__v=i.__v+1,T.vnode&&T.vnode(t),re(e.__P,t,i,e.__n,e.__P.namespaceURI,32&i.__u?[n]:null,s,n??rt(i),!!(32&i.__u),a),t.__v=i.__v,t.__.__k[t.__i]=t,mi(s,t,a),t.__e!=n&&ui(t)));_t.__r=0}function di(c,e,t,i,n,s,a,r,o,l,d){var u,g,h,f,m,y,p=i&&i.__k||ci,w=e.length;for(o=fn(t,e,p,o,w),u=0;u<w;u++)(h=t.__k[u])!=null&&(g=h.__i==-1?ut:p[h.__i]||ut,h.__i=u,y=re(c,h,g,n,s,a,r,o,l,d),f=h.__e,h.ref&&g.ref!=h.ref&&(g.ref&&oe(g.ref,null,h),d.push(h.ref,h.__c||f,h)),m==null&&f!=null&&(m=f),4&h.__u||g.__k===h.__k?o=hi(h,o,c):typeof h.type=="function"&&y!==void 0?o=y:f&&(o=f.nextSibling),h.__u&=-7);return t.__e=m,o}function fn(c,e,t,i,n){var s,a,r,o,l,d=t.length,u=d,g=0;for(c.__k=new Array(n),s=0;s<n;s++)(a=e[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(o=s+g,(a=c.__k[s]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Pt(null,a,null,null,null):vt(a)?Pt(at,{children:a},null,null,null):a.constructor==null&&a.__b>0?Pt(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=c,a.__b=c.__b+1,r=null,(l=a.__i=mn(a,t,o,u))!=-1&&(u--,(r=t[l])&&(r.__u|=2)),r==null||r.__v==null?(l==-1&&(n>d?g--:n<d&&g++),typeof a.type!="function"&&(a.__u|=4)):l!=o&&(l==o-1?g--:l==o+1?g++:(l>o?g--:g++,a.__u|=4))):c.__k[s]=null;if(u)for(s=0;s<d;s++)(r=t[s])!=null&&(2&r.__u)==0&&(r.__e==i&&(i=rt(r)),wi(r,r));return i}function hi(c,e,t){var i,n;if(typeof c.type=="function"){for(i=c.__k,n=0;i&&n<i.length;n++)i[n]&&(i[n].__=c,e=hi(i[n],e,t));return e}c.__e!=e&&(e&&c.type&&!t.contains(e)&&(e=rt(c)),t.insertBefore(c.__e,e||null),e=c.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function mn(c,e,t,i){var n,s,a=c.key,r=c.type,o=e[t];if(o===null&&c.key==null||o&&a==o.key&&r==o.type&&(2&o.__u)==0)return t;if(i>(o!=null&&(2&o.__u)==0?1:0))for(n=t-1,s=t+1;n>=0||s<e.length;){if(n>=0){if((o=e[n])&&(2&o.__u)==0&&a==o.key&&r==o.type)return n;n--}if(s<e.length){if((o=e[s])&&(2&o.__u)==0&&a==o.key&&r==o.type)return s;s++}}return-1}function gi(c,e,t){e[0]=="-"?c.setProperty(e,t??""):c[e]=t==null?"":typeof t!="number"||hn.test(e)?t:t+"px"}function It(c,e,t,i,n){var s;t:if(e=="style")if(typeof t=="string")c.style.cssText=t;else{if(typeof i=="string"&&(c.style.cssText=i=""),i)for(e in i)t&&e in t||gi(c.style,e,"");if(t)for(e in t)i&&t[e]==i[e]||gi(c.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(oi,"$1")),e=e.toLowerCase()in c||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),c.l||(c.l={}),c.l[e+s]=t,t?i?t.u=i.u:(t.u=ee,c.addEventListener(e,s?ne:ie,s)):c.removeEventListener(e,s?ne:ie,s);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in c)try{c[e]=t??"";break t}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?c.removeAttribute(e):c.setAttribute(e,e=="popover"&&t==1?"":t))}}function fi(c){return function(e){if(this.l){var t=this.l[e.type+c];if(e.t==null)e.t=ee++;else if(e.t<t.u)return;return t(T.event?T.event(e):e)}}}function re(c,e,t,i,n,s,a,r,o,l){var d,u,g,h,f,m,y,p,w,v,S,E,P,_,I,B,x,M=e.type;if(e.constructor!=null)return null;128&t.__u&&(o=!!(32&t.__u),s=[r=e.__e=t.__e]),(d=T.__b)&&d(e);t:if(typeof M=="function")try{if(p=e.props,w="prototype"in M&&M.prototype.render,v=(d=M.contextType)&&i[d.__c],S=d?v?v.props.value:d.__:i,t.__c?y=(u=e.__c=t.__c).__=u.__E:(w?e.__c=u=new M(p,S):(e.__c=u=new L(p,S),u.constructor=M,u.render=wn),v&&v.sub(u),u.props=p,u.state||(u.state={}),u.context=S,u.__n=i,g=u.__d=!0,u.__h=[],u._sb=[]),w&&u.__s==null&&(u.__s=u.state),w&&M.getDerivedStateFromProps!=null&&(u.__s==u.state&&(u.__s=z({},u.__s)),z(u.__s,M.getDerivedStateFromProps(p,u.__s))),h=u.props,f=u.state,u.__v=e,g)w&&M.getDerivedStateFromProps==null&&u.componentWillMount!=null&&u.componentWillMount(),w&&u.componentDidMount!=null&&u.__h.push(u.componentDidMount);else{if(w&&M.getDerivedStateFromProps==null&&p!==h&&u.componentWillReceiveProps!=null&&u.componentWillReceiveProps(p,S),!u.__e&&u.shouldComponentUpdate!=null&&u.shouldComponentUpdate(p,u.__s,S)===!1||e.__v==t.__v){for(e.__v!=t.__v&&(u.props=p,u.state=u.__s,u.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(D){D&&(D.__=e)}),E=0;E<u._sb.length;E++)u.__h.push(u._sb[E]);u._sb=[],u.__h.length&&a.push(u);break t}u.componentWillUpdate!=null&&u.componentWillUpdate(p,u.__s,S),w&&u.componentDidUpdate!=null&&u.__h.push(function(){u.componentDidUpdate(h,f,m)})}if(u.context=S,u.props=p,u.__P=c,u.__e=!1,P=T.__r,_=0,w){for(u.state=u.__s,u.__d=!1,P&&P(e),d=u.render(u.props,u.state,u.context),I=0;I<u._sb.length;I++)u.__h.push(u._sb[I]);u._sb=[]}else do u.__d=!1,P&&P(e),d=u.render(u.props,u.state,u.context),u.state=u.__s;while(u.__d&&++_<25);u.state=u.__s,u.getChildContext!=null&&(i=z(z({},i),u.getChildContext())),w&&!g&&u.getSnapshotBeforeUpdate!=null&&(m=u.getSnapshotBeforeUpdate(h,f)),B=d,d!=null&&d.type===at&&d.key==null&&(B=pi(d.props.children)),r=di(c,vt(B)?B:[B],e,t,i,n,s,a,r,o,l),u.base=e.__e,e.__u&=-161,u.__h.length&&a.push(u),y&&(u.__E=u.__=null)}catch(D){if(e.__v=null,o||s!=null)if(D.then){for(e.__u|=o?160:128;r&&r.nodeType==8&&r.nextSibling;)r=r.nextSibling;s[s.indexOf(r)]=null,e.__e=r}else for(x=s.length;x--;)se(s[x]);else e.__e=t.__e,e.__k=t.__k;T.__e(D,e,t)}else s==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):r=e.__e=pn(t.__e,e,t,i,n,s,a,r,o,l);return(d=T.diffed)&&d(e),128&e.__u?void 0:r}function mi(c,e,t){for(var i=0;i<t.length;i++)oe(t[i],t[++i],t[++i]);T.__c&&T.__c(e,c),c.some(function(n){try{c=n.__h,n.__h=[],c.some(function(s){s.call(n)})}catch(s){T.__e(s,n.__v)}})}function pi(c){return typeof c!="object"||c==null||c.__b&&c.__b>0?c:vt(c)?c.map(pi):z({},c)}function pn(c,e,t,i,n,s,a,r,o){var l,d,u,g,h,f,m,y=t.props,p=e.props,w=e.type;if(w=="svg"?n="http://www.w3.org/2000/svg":w=="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),s!=null){for(l=0;l<s.length;l++)if((h=s[l])&&"setAttribute"in h==!!w&&(w?h.localName==w:h.nodeType==3)){c=h,s[l]=null;break}}if(c==null){if(w==null)return document.createTextNode(p);c=document.createElementNS(n,w,p.is&&p),r&&(T.__m&&T.__m(e,s),r=!1),s=null}if(w==null)y===p||r&&c.data==p||(c.data=p);else{if(s=s&&At.call(c.childNodes),y=t.props||ut,!r&&s!=null)for(y={},l=0;l<c.attributes.length;l++)y[(h=c.attributes[l]).name]=h.value;for(l in y)if(h=y[l],l!="children"){if(l=="dangerouslySetInnerHTML")u=h;else if(!(l in p)){if(l=="value"&&"defaultValue"in p||l=="checked"&&"defaultChecked"in p)continue;It(c,l,null,h,n)}}for(l in p)h=p[l],l=="children"?g=h:l=="dangerouslySetInnerHTML"?d=h:l=="value"?f=h:l=="checked"?m=h:r&&typeof h!="function"||y[l]===h||It(c,l,h,y[l],n);if(d)r||u&&(d.__html==u.__html||d.__html==c.innerHTML)||(c.innerHTML=d.__html),e.__k=[];else if(u&&(c.innerHTML=""),di(e.type=="template"?c.content:c,vt(g)?g:[g],e,t,i,w=="foreignObject"?"http://www.w3.org/1999/xhtml":n,s,a,s?s[0]:t.__k&&rt(t,0),r,o),s!=null)for(l=s.length;l--;)se(s[l]);r||(l="value",w=="progress"&&f==null?c.removeAttribute("value"):f!=null&&(f!==c[l]||w=="progress"&&!f||w=="option"&&f!=y[l])&&It(c,l,f,y[l],n),l="checked",m!=null&&m!=c[l]&&It(c,l,m,y[l],n))}return c}function oe(c,e,t){try{if(typeof c=="function"){var i=typeof c.__u=="function";i&&c.__u(),i&&e==null||(c.__u=c(e))}else c.current=e}catch(n){T.__e(n,t)}}function wi(c,e,t){var i,n;if(T.unmount&&T.unmount(c),(i=c.ref)&&(i.current&&i.current!=c.__e||oe(i,null,e)),(i=c.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){T.__e(s,e)}i.base=i.__P=null}if(i=c.__k)for(n=0;n<i.length;n++)i[n]&&wi(i[n],e,t||typeof c.type!="function");t||se(c.__e),c.__c=c.__=c.__e=void 0}function wn(c,e,t){return this.constructor(c,t)}function bn(c,e,t){var i,n,s,a;e==document&&(e=document.documentElement),T.__&&T.__(c,e),n=(i=!1)?null:e.__k,s=[],a=[],re(e,c=e.__k=gn(at,null,[c]),n||ut,ut,e.namespaceURI,n?null:e.firstChild?At.call(e.childNodes):null,s,n?n.__e:e.firstChild,i,a),mi(s,c,a)}function yn(c){function e(t){var i,n;return this.getChildContext||(i=new Set,(n={})[e.__c]=this,this.getChildContext=function(){return n},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(s){this.props.value!=s.value&&i.forEach(function(a){a.__e=!0,ae(a)})},this.sub=function(s){i.add(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i&&i.delete(s),a&&a.call(s)}}),t.children}return e.__c="__cC"+li++,e.__=c,e.Provider=e.__l=(e.Consumer=function(t,i){return t.children(i)}).contextType=e,e}At=ci.slice,T={__e:function(c,e,t,i){for(var n,s,a;e=e.__;)if((n=e.__c)&&!n.__)try{if((s=n.constructor)&&s.getDerivedStateFromError!=null&&(n.setState(s.getDerivedStateFromError(c)),a=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(c,i||{}),a=n.__d),a)return n.__E=n}catch(r){c=r}throw c}},ni=0,L.prototype.setState=function(c,e){var t;t=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=z({},this.state),typeof c=="function"&&(c=c(z({},t),this.props)),c&&z(t,c),c!=null&&this.__v&&(e&&this._sb.push(e),ae(this))},L.prototype.forceUpdate=function(c){this.__v&&(this.__e=!0,c&&this.__h.push(c),ae(this))},L.prototype.render=at,et=[],ai=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ri=function(c,e){return c.__v.__b-e.__v.__b},_t.__r=0,oi=/(PointerCapture)$|Capture$/i,ee=0,ie=fi(!1),ne=fi(!0),li=0;var Sn=0;function b(c,e,t,i,n,s){e||(e={});var a,r,o=e;if("ref"in o)for(r in o={},e)r=="ref"?a=e[r]:o[r]=e[r];var l={type:c,props:o,key:t,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Sn,__i:-1,__u:0,__source:n,__self:s};if(typeof c=="function"&&(a=c.defaultProps))for(r in a)o[r]===void 0&&(o[r]=a[r]);return T.vnode&&T.vnode(l),l}class An extends L{constructor(t){super(t);A(this,"quitFromMainApp",()=>{const{ShowHideMainApp:t}=this.props;t()});A(this,"handleSwitchPage",t=>{this.props.switchPage(t),this.setState({activeButtonIndex:t})});this.state={activeButtonIndex:0}}render(){const{activeButtonIndex:t}=this.state;return b("div",{className:"IIroseMainNavigationBar",children:[b("div",{className:"LeftComponent",children:[b("div",{className:"NavBarButton NavBarButtonActive",id:"BackButton",onClick:this.quitFromMainApp,children:b("div",{className:"NavBarButtonIcon",id:"BackIcon"})}),b("div",{className:"NavBarTitle",id:"NavBarTitle",children:[b("div",{className:"NavBarButtonIcon",id:"MusicIcon"}),b("div",{className:"NavBarButtonText",children:" IIROSE - 网易云音乐"})]})]}),b("div",{className:"RightComponent",children:[b("div",{className:`NavBarButton ${t===0?"NavBarButtonActive":""}`,id:"",onClick:()=>this.handleSwitchPage(0),children:[b("div",{className:"NavBarButtonIcon",id:"MusicIcon"}),b("div",{className:"NavBarButtonText",children:" 音乐 "})]}),b("div",{className:`NavBarButton ${t===1?"NavBarButtonActive":""}`,id:"",onClick:()=>this.handleSwitchPage(1),children:[b("div",{className:"NavBarButtonIcon",id:"SettingIcon"}),b("div",{className:"NavBarButtonText",children:" 设置 "})]}),b("div",{className:`NavBarButton ${t===2?"NavBarButtonActive":""}`,id:"",onClick:()=>this.handleSwitchPage(2),children:[b("div",{className:"NavBarButtonIcon mdi-information-outline",id:""}),b("div",{className:"NavBarButtonText",children:" 关于 "})]})]})]})}}class vn extends L{searchInput(){const e=new G,t=this.props.mediaSearchBarActions.changeSearchKeyword;e.sync(2,["搜索","",100],t)}async nextPage(e,t){const{changecurrentPage:i}=this.props.mediaSearchBarActions;e<t&&await i(e+1)}async prevPage(e){const{changecurrentPage:t}=this.props.mediaSearchBarActions;e>1&&await t(e-1)}async outFromMultiPage(){const{switchToOutFromMultiPage:e}=this.props.mediaSearchBarActions;await e()}render(){const{searchKeyword:e,currentPage:t,totalPage:i,isCurrentInMultiPage:n}=this.props;let s="-/-";return i&&(s=`${t}/${i}`),b("div",{className:"MediaSearchBar",children:[!n&&b("div",{className:"inputWrapper",onClick:()=>this.searchInput(),children:[b("div",{className:"inputIcon"}),b("div",{className:"mediaSearchBarInput",children:e})]}),b("div",{className:"mediaSearchBarRightWrapper",style:{width:n?"100%":"",justifyContent:n?"flex-end":""},children:[b("div",{className:"paginationWrapper",children:[b("div",{className:"paginationIcon"}),b("div",{className:"pagination",children:s})]}),b("div",{className:"controllerWrapper",children:[n&&b("div",{className:"returnButtonWrapper PaginationControllerButtonWrapper",onClick:()=>{this.outFromMultiPage()},children:[b("div",{className:"returnIcon"}),b("div",{className:"PaginationControllerButton",children:"返回"})]}),b("div",{className:"prevButtonWrapper PaginationControllerButtonWrapper",onClick:()=>{this.prevPage(t)},children:[b("div",{className:"prevIcon"}),b("div",{className:"PaginationControllerButton",children:"上一页"})]}),b("div",{className:"nextButtonWrapper PaginationControllerButtonWrapper",onClick:()=>{this.nextPage(t,i)},children:[b("div",{className:"nextIcon"}),b("div",{className:"PaginationControllerButton",children:"下一页"})]})]})]})]})}}class _n extends L{constructor(t){super(t);A(this,"handleItemClick",(t,i,n)=>{const{updateSubNavBarIndex:s,updateCurrentSubNavBarAction:a}=this.props.actions;this.setState({activeIndex:t,subNavBarClass:n},async()=>{i&&(await s(t),i(),a(i))})});this.state={activeIndex:0,subNavBarClass:""}}async componentDidUpdate(t){const{updateSubNavBarIndex:i,updateCurrentSubNavBarAction:n}=this.props.actions,{platform:s}=this.props,{activeIndex:a,subNavBarClass:r}=this.state,{searchKeyword:o}=this.props;if(t.searchKeyword!==o&&o!==""){if(r==="search")s.subNavBarItems[a].searchAction();else for(const l of s.subNavBarItems)if(l.class==="search"){this.setState({subNavBarClass:"search",activeIndex:s.subNavBarItems.indexOf(l)},async()=>{await i(s.subNavBarItems.indexOf(l)),l.searchAction(),n(l.searchAction)});break}}t.categories!==this.props.categories&&s.subNavBarItems.length>0&&this.setState({activeIndex:0},async()=>{await i(0);const d=s.subNavBarItems[0];d.searchAction(),this.setState({subNavBarClass:d.class}),n(d.searchAction)}),t.PlatformIndex!==this.props.PlatformIndex&&s.subNavBarItems.length>0&&this.setState({activeIndex:0},async()=>{await i(0);const d=s.subNavBarItems[0];d.searchAction(),this.setState({subNavBarClass:d.class}),n(d.searchAction)})}componentDidMount(){const{platform:t}=this.props,{updateSubNavBarIndex:i,updateCurrentSubNavBarAction:n}=this.props.actions;t.subNavBarItems.length>0&&this.setState({activeIndex:0},async()=>{await i(0);const a=t.subNavBarItems[0];a.searchAction(),this.setState({subNavBarClass:a.class}),n(a.searchAction)})}render(){const{platform:t,isCurrentInMultiPage:i}=this.props,{activeIndex:n}=this.state;return b("div",{className:"MediaContainerSubNavBar",children:!i&&t.subNavBarItems.map((s,a)=>{const r=a===n,o=s.class?s.class:"";return b("div",{className:`SubNavBarItem ${o} ${r?"subNavBarItemActive":""}`,onClick:()=>this.handleItemClick(a,s.searchAction,s.class),children:s.title},a)})})}}class In extends L{render(){const{platformData:e}=this.props;let t="";return e.trackCount?t=`歌单 / ${e.trackCount}首`:e.type==="artist"?t="歌手":e.type==="album"?t="专辑":e.type==="toplist"?t="排行榜":e.type==="lyric"?t="歌词":t="歌曲",b("div",{className:"MediaCardImgCover",children:[b("img",{src:e.coverImg,className:"MediaCardImg",onClick:()=>{window.open(`https://music.163.com/#/song?id=${e.id}`,"_blank")}}),b("div",{className:"MediaCardDuration",children:t})]})}}class Bn extends L{render(){const{platformData:e}=this.props;return b("div",{className:"MediaCardInfoContainer",children:[e.title&&b("div",{className:"MediaCardInfoTitleWrapper",children:[b("div",{className:"MediaCardInfoTitle",children:e.title}),e.album&&b("div",{className:"MediaCardInfoSubTitle",children:`专辑: ${e.album}`})]}),b("div",{className:"MediaCardInfoAuthor",children:e.author||""})]})}}const Bt=yn({color:"",switchToMultiPage:(c,e)=>{},currentOnDemandPlay:c=>{},updateCurrentInMultiPageStatus:c=>{},ShowOrHideIMC:()=>{}}),{Provider:Mn,Consumer:cs}=Bt;class bi extends L{constructor(){super(...arguments);A(this,"state",{isMultipage:!1});A(this,"handlePlay",async()=>{const{platformData:e}=this.props,{currentOnDemandPlay:t,ShowOrHideIMC:i}=this.context;i(),t(e)});A(this,"handleView",async()=>{const{platformData:e}=this.props,{switchToMultiPage:t,updateCurrentInMultiPageStatus:i}=this.context;await i(!0),t(e)})}componentDidMount(){const{platformData:e}=this.props;e.type!=="music"&&e.type!=="lyric"&&this.setState({isMultipage:!0})}componentDidUpdate(t){this.props.platformData!==t.platformData&&(this.setState({isMultipage:!1}),this.props.platformData.type!=="music"&&this.props.platformData.type!=="lyric"&&this.setState({isMultipage:!0}))}render(){const{isMultipage:e}=this.state,t=this.context;return b("div",{className:"MediaCardButtonsWrapper",children:[b("div",{className:"MediaCardButtonContainer",style:{color:t.color},onClick:e?this.handleView:this.handlePlay,children:[e?b("div",{className:"MediaCardPickButtonIcon"}):b("div",{className:"MediaCardPlayButtonIcon"}),b("div",{className:"MediaCardPlayButtonText",children:e?"查看":"播放"})]})]})}}A(bi,"contextType",Bt);class dt extends L{render(){const{message:e}=this.props,t=this.context.color;return b("div",{className:"MediaCardMessageWrapper",style:{color:t},children:[e===0&&b(at,{children:[b("div",{className:"noresultLogo"}),b("div",{className:"message",children:"什么也没有搜到..."})]}),e===1&&b("div",{className:"containerSpin"}),e===2&&b(at,{children:[b("div",{className:"searchLogo"}),b("div",{className:"message",children:"请点击搜索图标进行搜索！"})]})]})}}A(dt,"contextType",Bt);class Dn extends L{constructor(){super(...arguments);A(this,"state",{actionTitle:this.props.settingsData.actionTitle});A(this,"updateActionTitle",t=>{this.setState({actionTitle:t})})}componentDidUpdate(t){t.settingsData.actionTitle!==this.props.settingsData.actionTitle&&this.setState({actionTitle:this.props.settingsData.actionTitle})}render(){const{settingsData:t}=this.props,i=this.state.actionTitle.startsWith("mdi")?`action ${this.state.actionTitle}`:"action textAction",n=this.state.actionTitle.startsWith("mdi")?{fontFamily:"md",fontSize:"48px",fontWeight:"unset"}:{};return b("div",{className:"actionWrapper",onClick:()=>{t.action(this.updateActionTitle)},children:b("div",{className:i,style:n,children:!this.state.actionTitle.startsWith("mdi")&&this.state.actionTitle})})}}class Cn extends L{constructor(t){super(t);A(this,"requestId",0);this.state={data:null,loading:!0,error:null,requestId:0}}async componentDidUpdate(t){if(this.props.settingsData===t.settingsData&&this.props.mediaData!==t.mediaData){const i=++this.requestId;this.setState({loading:!0,requestId:i});try{const n=await this.props.mediaData;this.state.requestId===i&&this.setState({data:n,loading:!1})}catch{this.state.requestId===i&&this.setState({error:"Failed to load data",loading:!1})}}}async componentDidMount(){if(this.props.mediaData){const t=++this.requestId;try{const i=await this.props.mediaData;this.state.requestId===t&&this.setState({data:i,loading:!1})}catch{this.state.requestId===t&&this.setState({error:"Failed to load data",loading:!1})}}else this.setState({loading:!1})}render(){const{data:t,loading:i,error:n}=this.state,{settingsData:s}=this.props;return s?b("div",{className:"MediaCardContainer",children:s.map((a,r)=>b("div",{className:"SettingsCard",children:[b("div",{className:"titleWrapper",children:[b("div",{className:`titleIcon ${a.icon}`}),b("div",{className:"title",children:a.title})]}),b(Dn,{settingsData:a})]},r))}):i?b("div",{className:"MediaCardContainer",style:{height:"100%"},children:b(dt,{message:1})}):n?b("div",{className:"MediaCardContainer",style:{height:"100%"},children:b(dt,{message:0})}):t?t.platformData.length===0?b("div",{className:"MediaCardContainer",style:{height:"100%"},children:b(dt,{message:0})}):b("div",{className:"MediaCardContainer",children:t.platformData.map((a,r)=>b("div",{className:"MediaCard",children:[b(In,{platformData:a}),b(Bn,{platformData:a}),b(bi,{platformData:a})]},r))}):b("div",{className:"MediaCardContainer",style:{height:"100%"},children:b(dt,{message:2})})}}class ht{send(e){window.WebSocket&&socket&&socket.send(e)}sendMessage(e){if(window.WebSocket&&socket){const t=new Date().getTime();socket.send(`{"m":"${e}","mc":"008000","i":"${t}"}`)}}}class gt{mediaCard(e){const t=i(e.name),n=i(e.singer),s=i(e.color);function i(a){const r={"<":"<",">":">","&":"&",'"':""","'":"'"};return a.replace(/[<>&"']/g,o=>r[o]||o)}const a={m:`m__4@0>${t}>${n}>${e.cover}>${s}>${e.bitRate||320}`,mc:e.color,i:new Date().getTime()};return JSON.stringify(a)}mediaEvent(e){try{const t=JSON.stringify({s:e.url.substring(4),d:e.duration,c:e.cover.substring(4),n:e.name,r:e.singer,b:"@0",o:e.link.substring(4),l:e.lyrics});return`&1${t}`}catch(t){return console.log(t),""}}}class it{constructor(){A(this,"api",new yt);A(this,"pageSize",30);A(this,"showmessage",new R);A(this,"neteaseSetting",new Fi().getNeteaseMusicSetting());A(this,"baseHex","dd1c04")}async getTopLists(){try{const e=await this.api.neteaseApi.getTopLists();if(!e)throw new Error("无法获取排行榜数据");const t=new DOMParser().parseFromString(e,"text/html"),i=[];let n=null;return t.querySelectorAll(".n-minelst > h2, .n-minelst > ul").forEach(s=>{if(s.tagName==="H2"){n&&i.push(n);const a={title:s.textContent.trim(),platformData:[]};n=a}else if(s.tagName==="UL"&&n){const a=Array.from(s.querySelectorAll("li")).map(r=>{var o,l;return{id:r.dataset.resId,title:(o=r.querySelector("p.name"))==null?void 0:o.textContent,coverImg:r.querySelector("img")==null?void 0:r.querySelector("img").src.replace(/(\.jpg\?).*/,".jpg?param=200y200"),author:(l=r.querySelector("p.s-fc4"))==null?void 0:l.textContent,type:"toplist"}});n.platformData.push(...a)}}),n&&i.push(n),{platformData:i.flatMap(s=>s.platformData),totalPage:1}}catch(e){return this.showmessage.show(e.message),{platformData:[],totalPage:0}}}async getRecommendSheets(){try{const e=await this.api.neteaseApi.search("","1000",50,1);if(!e||!e.result||!e.result.playlists)throw new Error("获取推荐歌单失败");const t=e.result.playlists.map(i=>this.formatSheetItem(i));return{platformData:t,totalPage:Math.ceil(e.result.playlistCount/50)}}catch(e){return this.showmessage.show(e.message),{platformData:[],totalPage:0}}}async search(e,t,i){try{let n;switch(i){case"music":n=1;break;case"album":n=10;break;case"sheet":n=1e3;break;case"artist":n=100;break;case"lyric":n=1006;break;default:n=1}const s=await this.api.neteaseApi.search(e,n,this.pageSize,t);if(!s||!s.result)throw new Error("搜索失败");let a=[],r=0;return i==="music"&&s.result.songs?(a=s.result.songs.map(this.formatMusicItem),r=s.result.songCount):i==="album"&&s.result.albums?(a=s.result.albums.map(this.formatAlbumItem),r=s.result.albumCount):i==="sheet"&&s.result.playlists?(a=s.result.playlists.map(this.formatSheetItem),r=s.result.playlistCount):i==="artist"&&s.result.artists?(a=s.result.artists.map(this.formatArtistItem),r=s.result.artistCount):i==="lyric"&&s.result.songs&&(a=s.result.songs.map(this.formatLyricItem),r=s.result.songCount),{platformData:a,totalPage:Math.ceil(r/this.pageSize),allPlatformData:a}}catch(n){return this.showmessage.show(n.message),{platformData:[],totalPage:0,allPlatformData:[]}}}async getDetail(e){try{if(e.type==="sheet"||e.type==="toplist"){const t=await this.api.getSongListDetail(e.id);if(!t||!t.playlist)throw new Error("获取歌单详情失败");const i=t.playlist.trackIds.map(s=>s.id),n=await this.getSongsDetail(i);return{platformData:n.map(this.formatMusicItem),totalPage:Math.ceil(n.length/this.pageSize),allPlatformData:n.map(this.formatMusicItem)}}else if(e.type==="album"){const t=await this.api.getAlbumDetail(e.id);if(!t||!t.songs)throw new Error("获取专辑详情失败");return{platformData:t.songs.map(this.formatMusicItem),totalPage:Math.ceil(t.songs.length/this.pageSize),allPlatformData:t.songs.map(this.formatMusicItem)}}else if(e.type==="artist"){const t=await this.api.neteaseApi.search(e.title,1,50,1);if(!t||!t.result||!t.result.songs)throw new Error("获取歌手热门歌曲失败");return{platformData:t.result.songs.map(this.formatMusicItem),totalPage:1,allPlatformData:t.result.songs.map(this.formatMusicItem)}}}catch(t){return this.showmessage.show(t.message),{platformData:[],totalPage:0,allPlatformData:[]}}}async getSongsDetail(e){const t=[],i=[];for(let n=0;n<e.length;n+=200)i.push(e.slice(n,n+200));for(const n of i){const s=await this.api.getSongDetail(n);s&&s.songs&&t.push(...s.songs)}return t}async playMusic(e){try{const t=this.neteaseSetting.quality,i=await this.api.getMediaSource(e,t);if(!i||!i.url)throw new Error("获取音源失败，可能是VIP或无版权歌曲");const n=await this.api.getLyric(e.id);let s="";if(n&&n.lrc&&n.lrc.lyric){s=n.lrc.lyric;const a=this.neteaseSetting.lyricOption;a==="translated"&&n.tlyric&&n.tlyric.lyric?s=n.tlyric.lyric:a==="both"&&n.tlyric&&n.tlyric.lyric&&(s=this.mergeLyrics(n.lrc.lyric,n.tlyric.lyric))}const a={type:"music",name:e.title,singer:e.author,cover:e.coverImg,link:`https://music.163.com/#/song?id=${e.id}`,url:i.url,duration:e.duration,bitRate:320,color:this.baseHex,lyrics:s,origin:"netease"},r=new gt,o=new ht,l=r.mediaCard(a),d=r.mediaEvent(a);o.send(l),o.send(d)}catch(t){this.showmessage.show(t.message)}}mergeLyrics(e,t){const i=e.split(`
`).map(a=>{const r=a.match(/\[(\d{2}:\d{2}\.\d{2,3})\]/);return r?{time:r[1],text:a.substring(r[0].length).trim()}:null}).filter(Boolean),n=t.split(`
`).map(a=>{const r=a.match(/\[(\d{2}:\d{2}\.\d{2,3})\]/);return r?{time:r[1],text:a.substring(r[0].length).trim()}:null}).filter(Boolean),s=new Map(n.map(a=>[a.time,a.text]));return i.map(a=>{const r=s.get(a.time);return`[${a.time}]${a.text}${r?` | ${r}`:""}`}).join(`
`)}formatMusicItem(e){var t,i;return{id:e.id,title:e.name,author:(e.ar||e.artists)[0].name,coverImg:((t=e.al)==null?void 0:t.picUrl)||((i=e.album)==null?void 0:i.picUrl),album:e.al?e.al.name:e.album.name,type:"music"}}formatAlbumItem(e){return{id:e.id,title:e.name,author:e.artist.name,coverImg:e.picUrl,type:"album"}}formatSheetItem(e){return{id:e.id,title:e.name,author:e.creator.nickname,coverImg:e.coverImgUrl,trackCount:e.trackCount,type:"sheet"}}formatArtistItem(e){return{id:e.id,title:e.name,author:"歌手",coverImg:e.img1v1Url,type:"artist"}}formatLyricItem(e){var t,i;return{id:e.id,title:e.name,author:(e.ar||e.artists).map(n=>n.name).join("/"),coverImg:(t=e.al)==null?void 0:t.picUrl,lyric:(i=e.lyrics)==null?void 0:i.join(`
`),type:"lyric"}}}class we{constructor(){A(this,"iiroseUtils",new G)}async aboutCreator(){this.iiroseUtils.getUserCard("61f7881cd4538")}async aboutDonate(){function e(i,n){n==="0"?window.open("https://afdian.com/a/mingj"):n==="1"&&window.open("https://github.com/sponsors/jingming295")}const t=[[0,"爱发电",`${this.generatePic("https://static.afdiancdn.com/static/img/logo/logo.png")}`],[1,"Github Sponsor",`${this.generatePic("http://r.iirose.com/i/24/9/28/19/3436-QA.png")}`]];this.iiroseUtils.buildSelect2(null,t,e,!1,!0,null,!1,null,()=>{})}async aboutSponsorList(e){const t=[["5e9e45731b5a9","ゑん",`${this.generatePic("http://r.iirose.com/i/22/2/10/23/0445-1S.gif#e")}`],["6090dec4e5836","情の蛊",`${this.generatePic("http://r.iirose.com/i/24/8/15/22/0929-HM.jpg")}`],["610b8b97b7031","章小鱼",`${this.generatePic("http://r.iirose.com/i/24/9/14/20/2513-SK.png")}`]],i=async(n,s)=>{await e(),this.iiroseUtils.getUserCard(s)};this.iiroseUtils.buildSelect2(null,t,i,!1,!0,null,!1,null,()=>{})}generatePic(e){return`<div style="height:100px;width:100px;position:absolute;top:0;left:0;"><div class="bgImgBox"><img class="bgImg" loading="lazy" decoding="async" src="${e}" onerror="this.style.display='none';"><div class="fullBox"></div></div></div>`}}class Ti{isProxyAtInputSetting(e){const t=this.getPluginSetting();t.chatBox.isProxyAtInput=!t.chatBox.isProxyAtInput,localStorage.setItem("imwPluginSetting",JSON.stringify(t)),e&&e(t.chatBox.isProxyAtInput?"mdi-toggle-switch":"mdi-toggle-switch-off-outline"),window.functionBtnDo(87)}getPluginSetting(){const e=localStorage.getItem("imwPluginSetting");return e?JSON.parse(e):{chatBox:{isProxyAtInput:!0}}}}class ki extends L{constructor(t){super(t);A(this,"itemsPerPage",30);A(this,"mediaContainerGesture",new Zn(this.props.ShowOrHideIMC));A(this,"intervalId",null);A(this,"callAPI",async()=>{try{await fetch(`https://xc.null.red:8043/api/online/heartbeat?t=mingmedia&_=${Date.now()}`),await this.sleep(200);const i=await(await fetch(`https://xc.null.red:8043/api/online/list?t=mingmedia&_=${Date.now()}`)).json();this.setState({onlineCount:i.online})}catch(i){console.error(i)}});A(this,"state",{searchKeyword:"",SubNavBarIndex:0,currentPage:1,updating:!1,totalPage:0,isCurrentInMultiPage:!1,mediaData:null,allMediaData:[],oldItems:null,settingsData:null,requestToken:0,onlineCount:0,currentSubNavBarAction:()=>{},currentOnDemandPlay:()=>{}});A(this,"controller",{changecurrentPage:async t=>{const{updating:i,currentSubNavBarAction:n}=this.state;i||(await this.setState({currentPage:t}),n())},updateSubNavBarIndex:async t=>{await this.setState({SubNavBarIndex:t,currentPage:1}),this.setState({allMediaData:[]})},updateCurrentSubNavBarAction:t=>{this.setState({currentSubNavBarAction:t})},updateCurrentInMultiPageStatus:t=>{this.setState({isCurrentInMultiPage:t})},switchToMultiPage:t=>{const i=new it,n=i.getDetail(t),s=i.playMusic.bind(i);this.setState({currentPage:1,totalPage:0,mediaData:n,currentOnDemandPlay:s}),n.then(a=>{a&&(this.setState({totalPage:a.totalPage}),a.allPlatformData&&this.setState({allMediaData:a.allPlatformData}))})},switchToOutFromMultiPage:()=>{const t=this.state.oldItems;t&&(this.setState({oldItems:null}),this.setState({mediaData:t.mediaData}),this.setState({allMediaData:t.allMediaData}),this.setState({totalPage:t.totalPage}),this.setState({currentPage:t.currentPage}),this.setState({isCurrentInMultiPage:!1}),this.setState({currentSubNavBarAction:t.SubNavBarAction}),this.setState({currentOnDemandPlay:t.OnDemandPlay}))},pushAllData:(t,i,n)=>{const{allMediaData:s}=this.state;this.state.requestToken===t&&i&&(s.push(...i),this.setState({allMediaData:s,updating:!1}),this.setState({totalPage:n}))}});A(this,"netEaseAction",{showTopLists:()=>{const t=new it,i=t.getTopLists(),n=t.playMusic.bind(t);this.setState({mediaData:i,currentOnDemandPlay:n,currentPage:1,totalPage:1,requestToken:1})},showRecommendSheets:()=>{const t=new it,i=t.getRecommendSheets(),n=t.playMusic.bind(t);this.setState({mediaData:i,currentOnDemandPlay:n,currentPage:1,totalPage:1,requestToken:1})},search:t=>{const{searchKeyword:i,currentPage:n}=this.state;if(i===""){this.setState({mediaData:null,totalPage:0});return}const s=new it,a=s.search(i,n,t),r=s.playMusic.bind(s);this.setState({mediaData:a,currentOnDemandPlay:r})}});A(this,"settingsAction",{netEaseMusicSetting:()=>{const t=new Fi,i=t.getNeteaseMusicSetting(),n=t.parseNetEaseMusicQuality(i.quality),s=t.parseNetEaseMusicLyricOption(i.lyricOption),a=[{title:"音乐的音质",actionTitle:n,icon:"mdi-music",action:t.setNeteaseMusicQuality.bind(t)},{title:"歌词",actionTitle:s,icon:"mdi-card-bulleted",action:t.setNeteaseMusicLyric.bind(t)}];this.setState({settingsData:a})},pluginChatBox:()=>{const t=new Ti,i=[{title:"代理蔷薇@输入",actionTitle:t.getPluginSetting().chatBox.isProxyAtInput?"mdi-toggle-switch":"mdi-toggle-switch-off-outline",icon:"mdi-at",action:t.isProxyAtInputSetting.bind(t)}];this.setState({settingsData:i})}});A(this,"AboutAction",{about:()=>{const t=[{title:"作者",actionTitle:"铭",icon:"mdi-account-tie",action:async()=>{await this.props.ShowOrHideIMC(),new we().aboutCreator()}},{title:"项目源代码地址",actionTitle:"GitHub 🔗",icon:"mdi-github",action:()=>{window.open("https://github.com/jingming295/IIROSE-MEDIA-WEB")}},{title:"投喂我",actionTitle:"投喂",icon:"mdi-coffee-outline",action:()=>{new we().aboutDonate()}},{title:"赞助列表",actionTitle:"感谢名单",icon:"mdi-account-group",action:()=>{new we().aboutSponsorList(this.props.ShowOrHideIMC)}},{title:"在线人数",actionTitle:this.state.onlineCount.toString(),icon:"mdi-account-group",action:()=>{}}];this.setState({settingsData:t})}});A(this,"categories",[{platform:[{title:"网易云音乐",iconsrc:"https://static.codemao.cn/rose/v0/images/system/media/music/NeteaseMusic/logo.png",color:"rgb(221, 28, 4)",subNavBarItems:[{title:"排行榜",searchAction:this.netEaseAction.showTopLists},{title:"推荐歌单",searchAction:this.netEaseAction.showRecommendSheets},{title:"搜歌曲",class:"search",searchAction:()=>this.netEaseAction.search("music")},{title:"搜专辑",class:"search",searchAction:()=>this.netEaseAction.search("album")},{title:"搜歌单",class:"search",searchAction:()=>this.netEaseAction.search("sheet")},{title:"搜歌手",class:"search",searchAction:()=>this.netEaseAction.search("artist")},{title:"搜歌词",class:"search",searchAction:()=>this.netEaseAction.search("lyric")}]}]},{platform:[{title:"音乐设置",iconsrc:"https://static.codemao.cn/rose/v0/images/system/media/music/NeteaseMusic/logo.png",color:"rgb(221, 28, 4)",subNavBarItems:[{title:"播放设置",searchAction:this.settingsAction.netEaseMusicSetting}]},{title:"插件设置",iconsrc:"data:image/png;base64,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",color:"rgb(150,171,188)",subNavBarItems:[{title:"聊天框",searchAction:this.settingsAction.pluginChatBox}]}]},{platform:[{title:"关于这个插件",iconsrc:"data:image/png;base64,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",color:"rgb(100, 149, 237)",subNavBarItems:[{title:"关于",searchAction:this.AboutAction.about}]}]}])}sleep(t){return new Promise(i=>setTimeout(i,t))}componentDidUpdate(t,i){const{needOutFromMultiPage:n,needOutFromSettings:s}=this.props,{settingsData:a,isCurrentInMultiPage:r,oldItems:o,mediaData:l,allMediaData:d,totalPage:u}=this.state,g=this.props.searchKeyword;if(t.searchKeyword!==g){const{SubNavBarIndex:f}=this.state;if(g===null||g===""){if(f===0)return;this.setState({allMediaData:[]}),this.setState({mediaData:null}),this.setState({searchKeyword:"",currentPage:1})}else this.setState({allMediaData:[]}),this.setState({searchKeyword:g,currentPage:1})}n&&r&&this.setState({isCurrentInMultiPage:!1}),s&&a&&this.setState({settingsData:null}),r&&!o&&this.setState({oldItems:{mediaData:this.state.mediaData,allMediaData:this.state.allMediaData,totalPage:this.state.totalPage,currentPage:this.state.currentPage,SubNavBarAction:this.state.currentSubNavBarAction,OnDemandPlay:this.state.currentOnDemandPlay}}),i.searchKeyword!==this.state.searchKeyword&&i.SubNavBarIndex!==this.state.SubNavBarIndex&&this.setState({totalPage:0,currentPage:1,allMediaData:[],mediaData:null}),!l&&d.length>0&&u>0&&this.setState({totalPage:0,currentPage:1,allMediaData:[],mediaData:null}),this.intervalId||(this.callAPI(),this.intervalId=setInterval(this.callAPI,2*60*1e3))}componentWillUnmount(){this.intervalId&&clearInterval(this.intervalId)}render(){const{CategoriesIndex:t,ShowOrHideIMC:i,changeSearchKeyword:n}=this.props,{mediaData:s,settingsData:a,searchKeyword:r,currentPage:o,totalPage:l,isCurrentInMultiPage:d,currentOnDemandPlay:u}=this.state,{changecurrentPage:g,updateSubNavBarIndex:h,updateCurrentSubNavBarAction:f,updateCurrentInMultiPageStatus:m,switchToMultiPage:y,switchToOutFromMultiPage:p}=this.controller,w=this.categories[t],v=w.platform[0],S=v.color;return b(Mn,{value:{color:S,switchToMultiPage:y,currentOnDemandPlay:u,updateCurrentInMultiPageStatus:m,ShowOrHideIMC:i},children:b("div",{className:"MediaContainerWrapper",onTouchStart:P=>this.mediaContainerGesture.handleStart(P,o,l,g),onMouseDown:P=>this.mediaContainerGesture.handleStart(P,o,l,g),children:b("div",{className:"MediaContainer",children:[b("div",{className:"MediaContainerController",style:{backgroundColor:S},children:[!a&&b(vn,{searchKeyword:r,currentPage:o,totalPage:l,isCurrentInMultiPage:d,mediaSearchBarActions:{changeSearchKeyword:n,changecurrentPage:g,switchToOutFromMultiPage:p}}),b(_n,{platform:v,searchKeyword:r,categories:w,isCurrentInMultiPage:d,actions:{updateCurrentSubNavBarAction:f,updateSubNavBarIndex:h}})]}),b(Cn,{mediaData:s,settingsData:a})]})})})}}A(ki,"contextType",Bt);class Zn{constructor(e){A(this,"startX",0);A(this,"startY",0);A(this,"currentPage",1);A(this,"totalPage",1);A(this,"changecurrentPage",e=>{});A(this,"handleMove",e=>{let t=0,i=0;e instanceof TouchEvent?(t=e.touches[0].clientX,i=e.touches[0].clientY):e instanceof MouseEvent&&(t=e.clientX,i=e.clientY);const n=t-this.startX,s=i-this.startY;if(Math.abs(s)>Math.abs(n)/3){this.handleEnd();return}Math.abs(n)>50&&(n>0?this.currentPage>1?this.changecurrentPage(this.currentPage-1):this.ShowOrHideIMC():this.currentPage<this.totalPage&&this.changecurrentPage(this.currentPage+1),this.handleEnd())});A(this,"handleEnd",()=>{window.removeEventListener("touchmove",this.handleMove),window.removeEventListener("touchend",this.handleEnd),window.removeEventListener("mousemove",this.handleMove),window.removeEventListener("mouseup",this.handleEnd)});this.ShowOrHideIMC=e}handleStart(e,t,i,n){this.currentPage=t,this.totalPage=i,this.changecurrentPage=n,e instanceof TouchEvent?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY,window.addEventListener("touchmove",this.handleMove),window.addEventListener("touchend",this.handleEnd)):e instanceof MouseEvent&&(this.startX=e.clientX,this.startY=e.clientY,window.addEventListener("mousemove",this.handleMove),window.addEventListener("mouseup",this.handleEnd))}}class ts extends L{constructor(){super(...arguments);A(this,"state",{CategoriesIndex:0,needOutFromMultiPage:!1,needOutFromSettings:!1});A(this,"itemsPerPage",10);A(this,"switchPage",async t=>{await this.setState({CategoriesIndex:t}),t!==1&&t!==2?this.setState({needOutFromSettings:!0}):this.state.needOutFromSettings&&this.setState({needOutFromSettings:!1})})}componentDidUpdate(t,i){const{needOutFromMultiPage:n,CategoriesIndex:s}=this.state;s!==i.CategoriesIndex?this.setState({needOutFromMultiPage:!0}):n&&this.setState({needOutFromMultiPage:!1})}render(){const{CategoriesIndex:t,needOutFromMultiPage:i,needOutFromSettings:n}=this.state,{searchKeyword:s,mainAppDisplay:a,changeSearchKeyword:r}=this.props;return b("div",{className:"IIROSE_MEDIA",id:"IIROSE_MEDIA",children:[b(An,{switchPage:this.switchPage,ShowHideMainApp:this.props.ShowHideMainApp}),b(ki,{CategoriesIndex:t,needOutFromMultiPage:i,needOutFromSettings:n,ShowOrHideIMC:this.props.ShowHideMainApp,searchKeyword:s,changeSearchKeyword:r,active:a})]})}}class es{static Analysis(e,t){const i=new URL(e.slice(1)),n=i.hostname,s=i.hash;if(n==="music.163.com"){s&&this.NeteaseMusicHashAnalysis(s);return}else return t(e,void 0)}static async NeteaseMusicHashAnalysis(e){const t=e.split("?")[1];if(!t)return;const i=new URLSearchParams(t).get("id");if(i){const n=new it;if(e.includes("song")){const s=await n.getSongsDetail([i]);s&&s.length>0&&n.playMusic(n.formatMusicItem(s[0]))}else if(e.includes("playlist")){const s=await n.getDetail({id:i,type:"sheet"});s&&s.platformData.forEach(a=>n.playMusic(a))}}}}class Ri{static init(e,t){var i;if(window.Utils){const s=new Ti().getPluginSetting();if((i=window.Utils.IMW)!=null&&i.backup.moveinputDo||(window.Utils.IMW={backup:{moveinputDo:window.Utils.service.moveinputDo}}),!s.chatBox.isProxyAtInput)window.Utils.service.moveinputDo=window.Utils.IMW.backup.moveinputDo;else{const a=window.Utils.service.moveinputDo;window.Utils.service.moveinputDo=this.changedOriginalMoveInputDo.bind(this,a,e,t)}}}static async changedOriginalMoveInputDo(e,t,i,n,s){if(typeof n=="string"&&n.startsWith("@")){const a=/^(https?:\/\/)/;if(n.slice(1).match(a))es.Analysis(n,e);else{if(n.length===2&&new RegExp("\\p{P}|\\p{S}","u").test(n[1])||window.Probe.getMediaLink||n.length===1||n==="@@@")return e(n,s);this.firstTime?(await i(),this.firstTime=!1):i(),t(n.slice(1))}}else return e(n,s)}}A(Ri,"firstTime",!0);function Li(){const c=window.functionHolder,e=window.functionHolderDarker,t=window.isMobile;c[0]&&c[0].style.display!=="none"&&(e.stop().fadeOut(250,function(){c[0].style.display="none",window.functionHolderP=1}),!t&&window.functionHolderSlider&&(window.functionHolderSlider.style.display="none"),window.Probe.functionHolderAnimate&&(t&&(document.body.style.transition=""),document.body.style.transform=""))}class is{constructor(e){A(this,"startY",0);A(this,"ShowHideMainApp");A(this,"IMCActiveEventHandler",e=>{e.stopImmediatePropagation(),e instanceof TouchEvent&&this.handleTouchStart(e)});A(this,"touchEnd",()=>{this.startY=0,window.removeEventListener("touchmove",this.handleTouchMove.bind(this))});A(this,"handleTouchStart",e=>{e.touches.length===2&&(this.startY=e.touches[0].clientY,window.addEventListener("touchmove",this.handleTouchMove.bind(this)))});A(this,"handleTouchMove",e=>{if(e.touches.length===2){if(this.startY===0)return;const t=e.touches[0].clientY-this.startY,n=window.innerHeight/5;t>n&&(this.startY=0,e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.ShowHideMainApp())}});this.ShowHideMainApp=e}}class ns extends L{constructor(t){super(t);A(this,"ShowHideMainApp",async()=>{const{mainAppDisplay:t,init:i}=this.state;i||await this.setState({init:!0}),await this.setState({mainAppDisplay:!t}),await new Promise(n=>setTimeout(n,100))});A(this,"mainHolder",null);A(this,"gasture",new is(this.ShowHideMainApp));A(this,"state",{mainAppDisplay:!1,init:!1,searchKeyword:""});A(this,"controller",{changeSearchKeyword:t=>{t!==null&&t!==""&&this.setState({searchKeyword:t})}});A(this,"hotkeyControlApp",t=>{if(t.altKey&&t.key==="s"||t.altKey&&t.key==="S"||t.altKey&&t.key==="ß"){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation();const i=document.activeElement;i&&i.tagName==="TEXTAREA"&&i.blur(),this.ShowHideMainApp()}else t.key==="Escape"&&this.setState({mainAppDisplay:!1})})}render(){const{mainAppDisplay:t,init:i,searchKeyword:n}=this.state,{changeSearchKeyword:s}=this.controller;return b("div",{id:"IIROSE_MEDIA_CONTAINER",class:`IIROSE_MEDIA_CONTAINER ${t?"ShowIIROSE_MEDIA_CONTAINER":"IIROSE_MEDIA_CONTAINER"}`,children:i?b(ts,{ShowHideMainApp:this.ShowHideMainApp,searchKeyword:n,changeSearchKeyword:s,mainAppDisplay:t}):null})}componentDidMount(){const{changeSearchKeyword:t}=this.controller,{ShowHideMainApp:i}=this;this.mainHolder=document.getElementById("mainHolder"),Ri.init(t,i),window.addEventListener("keydown",this.hotkeyControlApp),window.addEventListener("touchstart",this.gasture.handleTouchStart),window.addEventListener("touchend",this.gasture.touchEnd)}componentWillUnmount(){window.removeEventListener("keydown",this.hotkeyControlApp),window.removeEventListener("touchstart",this.gasture.handleTouchStart),window.removeEventListener("touchend",this.gasture.touchEnd)}componentDidUpdate(t,i){const{mainAppDisplay:n}=this.state;this.mainHolder&&(n&&!i.mainAppDisplay?(this.mainHolder.classList.add("hidemainHolder"),document.body.addEventListener("mousedown",this.gasture.IMCActiveEventHandler),document.body.addEventListener("touchstart",this.gasture.IMCActiveEventHandler),Li()):!n&&i.mainAppDisplay&&(this.mainHolder.classList.remove("hidemainHolder"),document.body.removeEventListener("mousedown",this.gasture.IMCActiveEventHandler),document.body.removeEventListener("touchstart",this.gasture.IMCActiveEventHandler),Li()))}}class ss{static init(e){const t=document.createElement("div");e.appendChild(t),bn(b(ns,{}),t)}}class Oi{constructor(){A(this,"iiroseUtils",new G)}setAgree(e,t){const i=()=>{const r=localStorage.getItem("commonSetting");if(r){const d=JSON.parse(r);d.TOS.TOSAgree=!0,localStorage.setItem("commonSetting",JSON.stringify(d))}else{const d={TOS:{TOSVersion:e,TOSAgree:!0},Privacy:{PrivacyVersion:t,PrivacyAgree:!1}};localStorage.setItem("commonSetting",JSON.stringify(d))}let o=`IIROSE-MEDIA-WEB 隐私政策
`;o+=`版本: ${t}

`,o+=`感谢您使用 IIROSE-MEDIA-WEB。我们非常重视您的隐私，并致力于保护您的个人信息。请仔细阅读以下隐私政策：

`,o+=`1. 本插件不会收集、存储或共享任何个人用户信息。
`,o+=`2. 您的所有数据仅在本地设备上处理，我们不会进行任何形式的数据追踪或分析。
`,o+=`3. 本插件与第三方服务或平台没有任何数据共享行为。
`,o+=`4. 您可以随时删除或停用本插件，且无需担心任何用户数据泄露风险。

`,o+=`如有任何疑问或建议，请联系我。感谢您的信任与支持！
`;const l=[o];this.iiroseUtils.sync(0,l,n)},n=()=>{const r=localStorage.getItem("commonSetting");if(r){const o=JSON.parse(r);o.Privacy.PrivacyAgree=!0,localStorage.setItem("commonSetting",JSON.stringify(o))}else{const o={TOS:{TOSVersion:e,TOSAgree:!0},Privacy:{PrivacyVersion:t,PrivacyAgree:!0}};localStorage.setItem("commonSetting",JSON.stringify(o))}};let s=`IIROSE-MEDIA-WEB 用户协议
`;s+=`版本: ${e}

`,s+=`欢迎使用 IIROSE-MEDIA-WEB！在使用本插件前，请仔细阅读以下条款：

`,s+=`1. 请合理使用本插件，避免任何形式的滥用行为。
`,s+=`2. 希望您能充分体验和享受本插件带来的便捷与乐趣。
`,s+=`3. 我将不断改进，期待您的宝贵意见与建议。

`,s+=`感谢您的支持！
`;const a=[s];this.iiroseUtils.sync(0,a,i)}}class as{static Init(){this.setNetease(),this.setCommonSetting(),this.setPluginSetting()}static setNetease(){if(!localStorage.getItem("neteaseSetting")){const t={quality:"lossless",lyricOption:"both"};localStorage.setItem("neteaseSetting",JSON.stringify(t))}}static setCommonSetting(){const e=localStorage.getItem("commonSetting");if(e){const t=JSON.parse(e),i=this.getCommonSetting(),n=t.TOS.TOSVersion,s=t.Privacy.PrivacyVersion;if(n===i.TOS.TOSVersion&&s===i.Privacy.PrivacyVersion&&t.Privacy.PrivacyAgree&&t.TOS.TOSAgree)return;n!==i.TOS.TOSVersion&&(t.TOS=i.TOS),s!==i.Privacy.PrivacyVersion&&(t.Privacy=i.Privacy),(!t.Privacy.PrivacyAgree||!t.TOS.TOSAgree)&&new Oi().setAgree(t.TOS.TOSVersion,t.Privacy.PrivacyVersion),localStorage.setItem("commonSetting",JSON.stringify(t))}else{const t=this.getCommonSetting();localStorage.setItem("commonSetting",JSON.stringify(t)),new Oi().setAgree(t.TOS.TOSVersion,t.Privacy.PrivacyVersion)}}static getCommonSetting(){return{TOS:{TOSVersion:"1.0.1",TOSAgree:!1},Privacy:{PrivacyVersion:"1.0.1",PrivacyAgree:!1}}}static setPluginSetting(){if(!localStorage.getItem("imwPluginSetting")){const t={chatBox:{isProxyAtInput:!0}};localStorage.setItem("imwPluginSetting",JSON.stringify(t))}}}class be{static async init(){if(typeof document>"u"){console.log("%c [Ming's IIROSE-MEDIA-WEB] - FAILED ","color: #FF5733; background: black; margin: 1em 0; padding: 5px 0; font-weight: 900");return}new dn().setEnv(),as.Init();const i=document.getElementById("mainFrame"),n=document.getElementById("mainContainer");if(!n)return;const s=document.createElement("script");s.src="//cdn.jsdelivr.net/npm/crypto-js@4.2.0/crypto-js.js",s.crossOrigin="anonymous",document.head.prepend(s);const a=document.createElement("script");a.src="//cdn.jsdelivr.net/npm/jsencrypt@3.3.2/bin/jsencrypt.min.js",a.crossOrigin="anonymous",document.head.prepend(a),ss.init(n),i&&i.contentWindow&&i.contentDocument&&this.injectScriptIntoIframe(i),console.log("%c [Ming's IIROSE-MEDIA-WEB] - LOADED ","color: #4CAF50; background: black; margin: 1em 0; padding: 5px 0; font-weight: 900")}static injectScriptIntoIframe(e){var n;const t=e.contentDocument||((n=e.contentWindow)==null?void 0:n.document);if(!t){console.log("%c [Ming's IIROSE-MEDIA-WEB] - UNABLE TO GET IFRAME ","color: #FF5733; background: black; margin: 1em 0; padding: 5px 0; font-weight: 900");return}const i=t.createElement("script");i.type="module",i.textContent=`
            (() => {
                
                const app = new (${be.toString()})();
                app.init();
            })();
        `,t.body.appendChild(i)}}class dn{async setEnv(){window.iirosemedia={},await this.setCors()}async setCors(){const t=await new F().sendGet("https://ipinfo.io/json",new URLSearchParams,new Headers);if(t){const i=await t.json();if(!window.iirosemedia)return;i.country==="CN"?(window.ClientLocation="CN",window.iirosemedia.cors="https://cors-anywhere-iirose-uest-web-gjtxhfvear.cn-beijing.fcapp.run/"):(window.ClientLocation="Global",window.iirosemedia.cors="https://cors-anywhere-cors-dzgtzfcdbk.ap-southeast-3.fcapp.run/")}else this.selectCorsBySpeed()}async selectCorsBySpeed(){if(!window.iirosemedia)return;const e=["https://cors-anywhere-cors-dzgtzfcdbk.ap-southeast-3.fcapp.run/","https://cors-anywhere-iirose-uest-web-gjtxhfvear.cn-beijing.fcapp.run/"],t=new F,i=[];for(const s of e)try{const a=performance.now();await t.sendGet(s,new URLSearchParams,new Headers);const o=performance.now()-a;i.push({cors:s,time:o})}catch(a){console.error("请求出错:",a)}i.sort((s,a)=>s.time-a.time);const n=i[0].cors;window.iirosemedia.cors=n}}be.init()});